{"version":3,"file":"main.js","mappings":";;;;;;;;;;AAAa;AACb,eAAe,qBAAM,qBAAqB,qBAAM;;AAEhD;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,qBAAM;AACxB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,UAAU,qBAAM,wBAAwB,qBAAM;AAClD,sBAAsB,qBAAM;AAC5B;AACA;AACA;AACA;AACA,IAAI,uBAAuB,qBAAM,4BAA4B,qBAAM;AACnE;;AAEA,oCAAoC;AACpC;AACA,qBAAqB,qBAAM;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,qBAAM;AACZ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpEa;AACb,gBAAgB,mBAAO,CAAC,+DAAW;;AAEnC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;AC5Pa;AACb,WAAW,qBAAM;AACjB,EAAE,qBAAM,WAAW,mBAAO,CAAC,qDAAO;AAClC;;;;;;;;;;;;;;;;;;;;;;;;ACHyD;AACZ;AACd;AACQ;AACgB;AACQ;AACd;AACF;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sDAAO;AACtB;AACA,mBAAmB,6DAAU;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,sBAAsB;AACtB,KAAK;AACL;;AAEA;AACA;AACA,eAAe,8DAAe;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA,oCAAoC,sDAAO;AAC3C;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,sDAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,sBAAsB,6DAAc,CAAC,kDAAG;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe,sDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,6DAAU,gBAAgB,wBAAwB;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,sEAAmB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,8DAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,8DAAe;AAC9B;;AAEA,oBAAoB,8BAA8B;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,0DAAW;AACtB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;;AAEnB;AACA;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA,eAAe,gEAAiB;;AAEhC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,6DAAc;AAChC,MAAM;AACN;AACA;;AAEA;AACA,cAAc,8DAAe;AAC7B;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gCAAgC,oBAAoB;AACpD;AACA;AACA;;AAEA,0CAA0C,sDAAO;AACjD,8BAA8B,iEAAkB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,wCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,8DAA8D,8DAAe;AAC7E,wCAAwC;AACxC;AACA,qBAAqB;AACrB,aAAa;AACb,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;;AAEA,8CAA8C,sDAAO;AACrD,gCAAgC,uDAAQ;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,wCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,8DAA8D,8DAAe;AAC7E,wCAAwC;AACxC;AACA,qBAAqB;AACrB,aAAa;AACb;AACA;;AAEA,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA,cAAc,mEAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;ACxkC5B;AACA;AACA;AACA;;AAE+D;AAClB;AACN;AACgB;AACN;AACF;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,eAAe,6DAAc;AAC7B;;AAEA;AACA,wBAAwB,yDAAU;;AAElC,WAAW,8DAAe;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,UAAU,+DAAY;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,+DAAY;;AAEtB;AACA;AACA;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,+DAAY;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,sDAAO;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA,eAAe,gEAAiB;;AAEhC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,6DAAc;AAChC,MAAM;AACN,sBAAsB,sDAAO;AAC7B;AACA,2BAA2B,aAAa;AACxC,cAAc;AACd;AACA;AACA,SAAS;AACT,kDAAkD,QAAQ;AAC1D;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA,cAAc,sEAAmB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;;;AC3UgB;AACN;AACN;AACgB;AACN;AACF;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,sDAAO;AACnC,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL,wBAAwB,yDAAU;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,iBAAiB;AAC1D;AACA;AACA;AACA;;AAEA,4CAA4C,YAAY;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,UAAU,+DAAY;;AAEtB,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iBAAiB;AACxD;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;;AAEA,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iBAAiB;AAC5D;AACA;AACA;;AAEA,4CAA4C,yBAAyB;AACrE;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA,eAAe,sDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,yBAAyB;AACjE;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,eAAe,gEAAiB;;AAEhC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,6DAAc;AAChC,MAAM;AACN,sBAAsB,sDAAO;AAC7B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT,uBAAuB,sDAAO;AAC9B;AACA;AACA;AACA,uCAAuC,sDAAO;AAC9C;AACA,4DAA4D,UAAU;AACtE;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,0DAAW;AACnC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA,IAAI,kEAAe;AACnB;AACA;;AAEA;AACA;AACA;AACA,cAAc,gEAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,aAAa,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACjmBe;AACA;AACY;AACZ;AACN;AACgB;AACQ;AACtB;AACF;;AAEtC;AACA;AACA;;AAEA;;AAEA;AACA,eAAe,0DAAS;AACxB,YAAY,uDAAY;AACxB,kBAAkB,6DAAkB;AACpC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA,wBAAwB,0DAAO;AAC/B;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC;AACvC,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA,0DAA0D;AAC1D;;AAEA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,sDAAO;AACnC;AACA;AACA;AACA,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,SAAS;AACrE;;AAEA;AACA;AACA,wCAAwC,2DAAQ;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA,4CAA4C,6DAAc;AAC1D,4BAA4B,kEAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;;AAET,QAAQ,sEAAmB;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,8DAAe;AAC7B,cAAc,6DAAc;;AAE5B,QAAQ,sEAAmB;AAC3B;AACA;;AAEA;AACA,kCAAkC,8DAAe,CAAC,yDAAU;AAC5D,QAAQ,sEAAmB;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET,QAAQ,sEAAmB;AAC3B;AACA;;AAEA;AACA;;AAEA,aAAa,0DAAO;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,6DAAc;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C,8DAAe;AAC7D,kBAAkB,8DAAe;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,kCAAkC,6DAAc;AAChD;AACA,aAAa;;AAEb,QAAQ,sEAAmB;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iEAAe,iBAAiB,EAAC;;;;;;;;;;;;;;;;AC7ZjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;;AAEA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;AChC1B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,eAAe,EAAC;;;;;;;;;;;;;;;;ACb/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iEAAe,mBAAmB,EAAC;;;;;;;;;;;;;;;;ACVpB;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,iEAAe,GAAG,EAAC;;;;;;;;;;;;;;;;ACxBnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;ACjBxB;AACA;AACA;AACA;AACA;;AAEA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;;ACNC;;AAExB;AACA;AACA,iCAAiC;AACjC;AACA,aAAa,4CAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,iEAAe,gBAAgB,EAAC;;;;;;;;;;;;;;;;ACvChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,iEAAe,mBAAmB,EAAC;;;;;;;;;;;;;;;;ACbnC;AACA;AACA;;AAEA,iEAAe,aAAa,EAAC;;;;;;;;;;;;;;;;ACJd;AACf;AACA;AACA,wBAAwB,KAAK;AAC7B;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA,IAAI,mBAAO,CAAC,yDAAc;AAC1B;AACA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;;ACPvB;AACsC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uDAAU,aAAa,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,qBAAqB,EAAC;;;;;;;;;;;;;;;;ACpPrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,SAAS;AAC7B;AACA;;AAEA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB,SAAS,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,oBAAoB,cAAc;AAClC;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;;AAEd;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;;AAEA,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AC;IAEzC,+CAA+C;IAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACrC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAChE;IAED,OAAO,GAAG,CAAC;AACf,CAAC;;;;;;;UCnFD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;;;;;;;;;;ACrFwD;AACG;AAE3D,CAAC,KAAK,IAAI,EAAE;IACR,sEAAW,CAAC,IAAI,qEAAW,EAAE,CAAC,CAAC;IAE/B,MAAM,mUAAsC,CAAC;IAE7C,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;QACjB,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC7C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC,CAAC;AACN,CAAC,CAAC,EAAE,CAAC","sources":["webpack://@padloc/pwa/../app/node_modules/immediate/lib/browser.js","webpack://@padloc/pwa/../app/node_modules/lie/lib/browser.js","webpack://@padloc/pwa/../app/node_modules/lie/polyfill.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/drivers/indexeddb.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/drivers/localstorage.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/drivers/websql.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/localforage.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/createBlob.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/executeCallback.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/executeTwoCallbacks.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/getCallback.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/idb.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/includes.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/isArray.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/isIndexedDBValid.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/isLocalStorageValid.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/isWebSQLValid.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/normalizeKey.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/promise.js","webpack://@padloc/pwa/../app/node_modules/localforage/src/utils/serializer.js","webpack://@padloc/pwa/../core/vendor/sjcl.js","webpack://@padloc/pwa/../locale/res/translations|lazy|/^\\.\\/.*\\.json$/|groupOptions: {}|namespace object","webpack://@padloc/pwa/../app/src/lib/crypto.ts","webpack://@padloc/pwa/../app/src/lib/platform.ts","webpack://@padloc/pwa/../app/src/lib/storage.ts","webpack://@padloc/pwa/../core/src/base32.ts","webpack://@padloc/pwa/../core/src/base64.ts","webpack://@padloc/pwa/../core/src/encoding.ts","webpack://@padloc/pwa/../core/src/error.ts","webpack://@padloc/pwa/../core/src/migrations.ts","webpack://@padloc/pwa/../core/src/platform.ts","webpack://@padloc/pwa/../core/src/sjcl.ts","webpack://@padloc/pwa/../core/src/storage.ts","webpack://@padloc/pwa/../core/src/stub-crypto-provider.ts","webpack://@padloc/pwa/../locale/src/translate.ts","webpack://@padloc/pwa/webpack/bootstrap","webpack://@padloc/pwa/webpack/runtime/compat get default export","webpack://@padloc/pwa/webpack/runtime/create fake namespace object","webpack://@padloc/pwa/webpack/runtime/define property getters","webpack://@padloc/pwa/webpack/runtime/ensure chunk","webpack://@padloc/pwa/webpack/runtime/get javascript chunk filename","webpack://@padloc/pwa/webpack/runtime/global","webpack://@padloc/pwa/webpack/runtime/hasOwnProperty shorthand","webpack://@padloc/pwa/webpack/runtime/load script","webpack://@padloc/pwa/webpack/runtime/make namespace object","webpack://@padloc/pwa/webpack/runtime/publicPath","webpack://@padloc/pwa/webpack/runtime/jsonp chunk loading","webpack://@padloc/pwa/./src/index.ts"],"sourcesContent":["'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n","'use strict';\nvar immediate = require('immediate');\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n","'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = require('./lib');\n}\n","import isIndexedDBValid from '../utils/isIndexedDBValid';\nimport createBlob from '../utils/createBlob';\nimport idb from '../utils/idb';\nimport Promise from '../utils/promise';\nimport executeCallback from '../utils/executeCallback';\nimport executeTwoCallbacks from '../utils/executeTwoCallbacks';\nimport normalizeKey from '../utils/normalizeKey';\nimport getCallback from '../utils/getCallback';\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nconst DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nlet supportsBlobs;\nconst dbContexts = {};\nconst toString = Object.prototype.toString;\n\n// Transaction Modes\nconst READ_ONLY = 'readonly';\nconst READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise(function(resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function(e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function() {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(\n                matchedEdge ||\n                    !matchedChrome ||\n                    parseInt(matchedChrome[1], 10) >= 43\n            );\n        };\n    }).catch(function() {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function(value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise(function(resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function() {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise(function(resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function(e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn(\n                            'The database \"' +\n                                dbInfo.name +\n                                '\"' +\n                                ' has been upgraded from version ' +\n                                e.oldVersion +\n                                ' to version ' +\n                                e.newVersion +\n                                ', but the storage \"' +\n                                dbInfo.storeName +\n                                '\" already exists.'\n                        );\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function(e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function() {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn(\n                'The database \"' +\n                    dbInfo.name +\n                    '\"' +\n                    \" can't be downgraded from version \" +\n                    dbInfo.db.version +\n                    ' to version ' +\n                    dbInfo.version +\n                    '.'\n            );\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise(function(resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function(e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function() {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        const forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo)\n        .then(db => {\n            dbInfo.db = db;\n            if (_isUpgradeNeeded(dbInfo)) {\n                // Reopen the database for upgrading.\n                return _getUpgradedConnection(dbInfo);\n            }\n            return db;\n        })\n        .then(db => {\n            // store the latest db reference\n            // in case the db was upgraded\n            dbInfo.db = dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n        })\n        .catch(err => {\n            _rejectReadiness(dbInfo, err);\n            throw err;\n        });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (\n            retries > 0 &&\n            (!dbInfo.db ||\n                err.name === 'InvalidStateError' ||\n                err.name === 'NotFoundError')\n        ) {\n            return Promise.resolve()\n                .then(() => {\n                    if (\n                        !dbInfo.db ||\n                        (err.name === 'NotFoundError' &&\n                            !dbInfo.db.objectStoreNames.contains(\n                                dbInfo.storeName\n                            ) &&\n                            dbInfo.version <= dbInfo.db.version)\n                    ) {\n                        // increase the db version, to create the new ObjectStore\n                        if (dbInfo.db) {\n                            dbInfo.version = dbInfo.db.version + 1;\n                        }\n                        // Reopen the database for upgrading.\n                        return _getUpgradedConnection(dbInfo);\n                    }\n                })\n                .then(() => {\n                    return _tryReconnect(dbInfo).then(function() {\n                        createTransaction(dbInfo, mode, callback, retries - 1);\n                    });\n                })\n                .catch(callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady().catch(ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise.all(initPromises)\n        .then(function() {\n            dbInfo.db = dbContext.db;\n            // Get the connection or open a new one without upgrade.\n            return _getOriginalConnection(dbInfo);\n        })\n        .then(function(db) {\n            dbInfo.db = db;\n            if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n                // Reopen the database for upgrading.\n                return _getUpgradedConnection(dbInfo);\n            }\n            return db;\n        })\n        .then(function(db) {\n            dbInfo.db = dbContext.db = db;\n            self._dbInfo = dbInfo;\n            // Share the final connection amongst related localForages.\n            for (var k = 0; k < forages.length; k++) {\n                var forage = forages[k];\n                if (forage !== self) {\n                    // Self is already up-to-date.\n                    forage._dbInfo.db = dbInfo.db;\n                    forage._dbInfo.version = dbInfo.version;\n                }\n            }\n        });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_ONLY, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var req = store.get(key);\n\n                        req.onsuccess = function() {\n                            var value = req.result;\n                            if (value === undefined) {\n                                value = null;\n                            }\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            resolve(value);\n                        };\n\n                        req.onerror = function() {\n                            reject(req.error);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_ONLY, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var req = store.openCursor();\n                        var iterationNumber = 1;\n\n                        req.onsuccess = function() {\n                            var cursor = req.result;\n\n                            if (cursor) {\n                                var value = cursor.value;\n                                if (_isEncodedBlob(value)) {\n                                    value = _decodeBlob(value);\n                                }\n                                var result = iterator(\n                                    value,\n                                    cursor.key,\n                                    iterationNumber++\n                                );\n\n                                // when the iterator callback retuns any\n                                // (non-`undefined`) value, then we stop\n                                // the iteration immediately\n                                if (result !== void 0) {\n                                    resolve(result);\n                                } else {\n                                    cursor.continue();\n                                }\n                            } else {\n                                resolve();\n                            }\n                        };\n\n                        req.onerror = function() {\n                            reject(req.error);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        var dbInfo;\n        self\n            .ready()\n            .then(function() {\n                dbInfo = self._dbInfo;\n                if (toString.call(value) === '[object Blob]') {\n                    return _checkBlobSupport(dbInfo.db).then(function(\n                        blobSupport\n                    ) {\n                        if (blobSupport) {\n                            return value;\n                        }\n                        return _encodeBlob(value);\n                    });\n                }\n                return value;\n            })\n            .then(function(value) {\n                createTransaction(self._dbInfo, READ_WRITE, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n\n                        // The reason we don't _save_ null is because IE 10 does\n                        // not support saving the `null` type in IndexedDB. How\n                        // ironic, given the bug below!\n                        // See: https://github.com/mozilla/localForage/issues/161\n                        if (value === null) {\n                            value = undefined;\n                        }\n\n                        var req = store.put(value, key);\n\n                        transaction.oncomplete = function() {\n                            // Cast to undefined so the value passed to\n                            // callback/promise is the same as what one would get out\n                            // of `getItem()` later. This leads to some weirdness\n                            // (setItem('foo', undefined) will return `null`), but\n                            // it's not my fault localStorage is our baseline and that\n                            // it's weird.\n                            if (value === undefined) {\n                                value = null;\n                            }\n\n                            resolve(value);\n                        };\n                        transaction.onabort = transaction.onerror = function() {\n                            var err = req.error\n                                ? req.error\n                                : req.transaction.error;\n                            reject(err);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_WRITE, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        // We use a Grunt task to make this safe for IE and some\n                        // versions of Android (including those used by Cordova).\n                        // Normally IE won't like `.delete()` and will insist on\n                        // using `['delete']()`, but we have a build step that\n                        // fixes this for us now.\n                        var req = store.delete(key);\n                        transaction.oncomplete = function() {\n                            resolve();\n                        };\n\n                        transaction.onerror = function() {\n                            reject(req.error);\n                        };\n\n                        // The request will be also be aborted if we've exceeded our storage\n                        // space.\n                        transaction.onabort = function() {\n                            var err = req.error\n                                ? req.error\n                                : req.transaction.error;\n                            reject(err);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_WRITE, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var req = store.clear();\n\n                        transaction.oncomplete = function() {\n                            resolve();\n                        };\n\n                        transaction.onabort = transaction.onerror = function() {\n                            var err = req.error\n                                ? req.error\n                                : req.transaction.error;\n                            reject(err);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_ONLY, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var req = store.count();\n\n                        req.onsuccess = function() {\n                            resolve(req.result);\n                        };\n\n                        req.onerror = function() {\n                            reject(req.error);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_ONLY, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var advanced = false;\n                        var req = store.openCursor();\n\n                        req.onsuccess = function() {\n                            var cursor = req.result;\n                            if (!cursor) {\n                                // this means there weren't enough keys\n                                resolve(null);\n\n                                return;\n                            }\n\n                            if (n === 0) {\n                                // We have the first key, return it if that's what they\n                                // wanted.\n                                resolve(cursor.key);\n                            } else {\n                                if (!advanced) {\n                                    // Otherwise, ask the cursor to skip ahead n\n                                    // records.\n                                    advanced = true;\n                                    cursor.advance(n);\n                                } else {\n                                    // When we get here, we've got the nth key.\n                                    resolve(cursor.key);\n                                }\n                            }\n                        };\n\n                        req.onerror = function() {\n                            reject(req.error);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                createTransaction(self._dbInfo, READ_ONLY, function(\n                    err,\n                    transaction\n                ) {\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    try {\n                        var store = transaction.objectStore(\n                            self._dbInfo.storeName\n                        );\n                        var req = store.openCursor();\n                        var keys = [];\n\n                        req.onsuccess = function() {\n                            var cursor = req.result;\n\n                            if (!cursor) {\n                                resolve(keys);\n                                return;\n                            }\n\n                            keys.push(cursor.key);\n                            cursor.continue();\n                        };\n\n                        req.onerror = function() {\n                            reject(req.error);\n                        };\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = (typeof options !== 'function' && options) || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise.reject('Invalid arguments');\n    } else {\n        const isCurrentDb =\n            options.name === currentConfig.name && self._dbInfo.db;\n\n        const dbPromise = isCurrentDb\n            ? Promise.resolve(self._dbInfo.db)\n            : _getOriginalConnection(options).then(db => {\n                  const dbContext = dbContexts[options.name];\n                  const forages = dbContext.forages;\n                  dbContext.db = db;\n                  for (var i = 0; i < forages.length; i++) {\n                      forages[i]._dbInfo.db = db;\n                  }\n                  return db;\n              });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(db => {\n                _deferReadiness(options);\n\n                const dbContext = dbContexts[options.name];\n                const forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    const forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                const dropDBPromise = new Promise((resolve, reject) => {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = err => {\n                        const db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = () => {\n                        const db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise\n                    .then(db => {\n                        dbContext.db = db;\n                        for (var i = 0; i < forages.length; i++) {\n                            const forage = forages[i];\n                            _advanceReadiness(forage._dbInfo);\n                        }\n                    })\n                    .catch(err => {\n                        (\n                            _rejectReadiness(options, err) || Promise.resolve()\n                        ).catch(() => {});\n                        throw err;\n                    });\n            });\n        } else {\n            promise = dbPromise.then(db => {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                const newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                const dbContext = dbContexts[options.name];\n                const forages = dbContext.forages;\n\n                db.close();\n                for (let i = 0; i < forages.length; i++) {\n                    const forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                const dropObjectPromise = new Promise((resolve, reject) => {\n                    const req = idb.open(options.name, newVersion);\n\n                    req.onerror = err => {\n                        const db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = () => {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = () => {\n                        const db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise\n                    .then(db => {\n                        dbContext.db = db;\n                        for (let j = 0; j < forages.length; j++) {\n                            const forage = forages[j];\n                            forage._dbInfo.db = db;\n                            _advanceReadiness(forage._dbInfo);\n                        }\n                    })\n                    .catch(err => {\n                        (\n                            _rejectReadiness(options, err) || Promise.resolve()\n                        ).catch(() => {});\n                        throw err;\n                    });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\nexport default asyncStorage;\n","// If IndexedDB isn't available, we'll fall back to localStorage.\n// Note that this will have considerable performance and storage\n// side-effects (all data will be serialized on save and only data that\n// can be converted to a string via `JSON.stringify()` will be saved).\n\nimport isLocalStorageValid from '../utils/isLocalStorageValid';\nimport serializer from '../utils/serializer';\nimport Promise from '../utils/promise';\nimport executeCallback from '../utils/executeCallback';\nimport normalizeKey from '../utils/normalizeKey';\nimport getCallback from '../utils/getCallback';\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = serializer;\n\n    return Promise.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear(callback) {\n    var self = this;\n    var promise = self.ready().then(function() {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function() {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function() {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(\n                value,\n                key.substring(keyPrefixLength),\n                iterationNumber++\n            );\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function() {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n    var promise = self.ready().then(function() {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length(callback) {\n    var self = this;\n    var promise = self.keys().then(function(keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function() {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function() {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise(function(resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function(value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (\n                            e.name === 'QuotaExceededError' ||\n                            e.name === 'NS_ERROR_DOM_QUOTA_REACHED'\n                        ) {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = (typeof options !== 'function' && options) || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise.reject('Invalid arguments');\n    } else {\n        promise = new Promise(function(resolve) {\n            if (!options.storeName) {\n                resolve(`${options.name}/`);\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function(keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage,\n    _support: isLocalStorageValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nexport default localStorageWrapper;\n","import isWebSQLValid from '../utils/isWebSQLValid';\nimport serializer from '../utils/serializer';\nimport Promise from '../utils/promise';\nimport executeCallback from '../utils/executeCallback';\nimport normalizeKey from '../utils/normalizeKey';\nimport getCallback from '../utils/getCallback';\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql(\n        `CREATE TABLE IF NOT EXISTS ${dbInfo.storeName} ` +\n            '(id INTEGER PRIMARY KEY, key unique, value)',\n        [],\n        callback,\n        errorCallback\n    );\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] =\n                typeof options[i] !== 'string'\n                    ? options[i].toString()\n                    : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise(function(resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(\n                dbInfo.name,\n                String(dbInfo.version),\n                dbInfo.description,\n                dbInfo.size\n            );\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function(t) {\n            createDbTable(\n                t,\n                dbInfo,\n                function() {\n                    self._dbInfo = dbInfo;\n                    resolve();\n                },\n                function(t, error) {\n                    reject(error);\n                }\n            );\n        }, reject);\n    });\n\n    dbInfo.serializer = serializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(\n        sqlStatement,\n        args,\n        callback,\n        function(t, error) {\n            if (error.code === error.SYNTAX_ERR) {\n                t.executeSql(\n                    'SELECT name FROM sqlite_master ' +\n                        \"WHERE type='table' AND name = ?\",\n                    [dbInfo.storeName],\n                    function(t, results) {\n                        if (!results.rows.length) {\n                            // if the table is missing (was deleted)\n                            // re-create it table and retry\n                            createDbTable(\n                                t,\n                                dbInfo,\n                                function() {\n                                    t.executeSql(\n                                        sqlStatement,\n                                        args,\n                                        callback,\n                                        errorCallback\n                                    );\n                                },\n                                errorCallback\n                            );\n                        } else {\n                            errorCallback(t, error);\n                        }\n                    },\n                    errorCallback\n                );\n            } else {\n                errorCallback(t, error);\n            }\n        },\n        errorCallback\n    );\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `SELECT * FROM ${\n                            dbInfo.storeName\n                        } WHERE key = ? LIMIT 1`,\n                        [key],\n                        function(t, results) {\n                            var result = results.rows.length\n                                ? results.rows.item(0).value\n                                : null;\n\n                            // Check to see if this is serialized content we need to\n                            // unpack.\n                            if (result) {\n                                result = dbInfo.serializer.deserialize(result);\n                            }\n\n                            resolve(result);\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `SELECT * FROM ${dbInfo.storeName}`,\n                        [],\n                        function(t, results) {\n                            var rows = results.rows;\n                            var length = rows.length;\n\n                            for (var i = 0; i < length; i++) {\n                                var item = rows.item(i);\n                                var result = item.value;\n\n                                // Check to see if this is serialized content\n                                // we need to unpack.\n                                if (result) {\n                                    result = dbInfo.serializer.deserialize(\n                                        result\n                                    );\n                                }\n\n                                result = iterator(result, item.key, i + 1);\n\n                                // void(0) prevents problems with redefinition\n                                // of `undefined`.\n                                if (result !== void 0) {\n                                    resolve(result);\n                                    return;\n                                }\n                            }\n\n                            resolve();\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                // The localStorage API doesn't return undefined values in an\n                // \"expected\" way, so undefined is always cast to null in all\n                // drivers. See: https://github.com/mozilla/localForage/pull/42\n                if (value === undefined) {\n                    value = null;\n                }\n\n                // Save the original value to pass to the callback.\n                var originalValue = value;\n\n                var dbInfo = self._dbInfo;\n                dbInfo.serializer.serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        dbInfo.db.transaction(\n                            function(t) {\n                                tryExecuteSql(\n                                    t,\n                                    dbInfo,\n                                    `INSERT OR REPLACE INTO ${\n                                        dbInfo.storeName\n                                    } ` + '(key, value) VALUES (?, ?)',\n                                    [key, value],\n                                    function() {\n                                        resolve(originalValue);\n                                    },\n                                    function(t, error) {\n                                        reject(error);\n                                    }\n                                );\n                            },\n                            function(sqlError) {\n                                // The transaction failed; check\n                                // to see if it's a quota error.\n                                if (sqlError.code === sqlError.QUOTA_ERR) {\n                                    // We reject the callback outright for now, but\n                                    // it's worth trying to re-run the transaction.\n                                    // Even if the user accepts the prompt to use\n                                    // more storage on Safari, this error will\n                                    // be called.\n                                    //\n                                    // Try to re-run the transaction.\n                                    if (retriesLeft > 0) {\n                                        resolve(\n                                            _setItem.apply(self, [\n                                                key,\n                                                originalValue,\n                                                callback,\n                                                retriesLeft - 1\n                                            ])\n                                        );\n                                        return;\n                                    }\n                                    reject(sqlError);\n                                }\n                            }\n                        );\n                    }\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `DELETE FROM ${dbInfo.storeName} WHERE key = ?`,\n                        [key],\n                        function() {\n                            resolve();\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `DELETE FROM ${dbInfo.storeName}`,\n                        [],\n                        function() {\n                            resolve();\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    // Ahhh, SQL makes this one soooooo easy.\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `SELECT COUNT(key) as c FROM ${dbInfo.storeName}`,\n                        [],\n                        function(t, results) {\n                            var result = results.rows.item(0).c;\n                            resolve(result);\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `SELECT key FROM ${\n                            dbInfo.storeName\n                        } WHERE id = ? LIMIT 1`,\n                        [n + 1],\n                        function(t, results) {\n                            var result = results.rows.length\n                                ? results.rows.item(0).key\n                                : null;\n                            resolve(result);\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise(function(resolve, reject) {\n        self\n            .ready()\n            .then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    tryExecuteSql(\n                        t,\n                        dbInfo,\n                        `SELECT key FROM ${dbInfo.storeName}`,\n                        [],\n                        function(t, results) {\n                            var keys = [];\n\n                            for (var i = 0; i < results.rows.length; i++) {\n                                keys.push(results.rows.item(i).key);\n                            }\n\n                            resolve(keys);\n                        },\n                        function(t, error) {\n                            reject(error);\n                        }\n                    );\n                });\n            })\n            .catch(reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise(function(resolve, reject) {\n        db.transaction(\n            function(t) {\n                t.executeSql(\n                    'SELECT name FROM sqlite_master ' +\n                        \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\",\n                    [],\n                    function(t, results) {\n                        var storeNames = [];\n\n                        for (var i = 0; i < results.rows.length; i++) {\n                            storeNames.push(results.rows.item(i).name);\n                        }\n\n                        resolve({\n                            db,\n                            storeNames\n                        });\n                    },\n                    function(t, error) {\n                        reject(error);\n                    }\n                );\n            },\n            function(sqlError) {\n                reject(sqlError);\n            }\n        );\n    });\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = (typeof options !== 'function' && options) || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise.reject('Invalid arguments');\n    } else {\n        promise = new Promise(function(resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function(operationInfo) {\n            return new Promise(function(resolve, reject) {\n                operationInfo.db.transaction(\n                    function(t) {\n                        function dropTable(storeName) {\n                            return new Promise(function(resolve, reject) {\n                                t.executeSql(\n                                    `DROP TABLE IF EXISTS ${storeName}`,\n                                    [],\n                                    function() {\n                                        resolve();\n                                    },\n                                    function(t, error) {\n                                        reject(error);\n                                    }\n                                );\n                            });\n                        }\n\n                        var operations = [];\n                        for (\n                            var i = 0, len = operationInfo.storeNames.length;\n                            i < len;\n                            i++\n                        ) {\n                            operations.push(\n                                dropTable(operationInfo.storeNames[i])\n                            );\n                        }\n\n                        Promise.all(operations)\n                            .then(function() {\n                                resolve();\n                            })\n                            .catch(function(e) {\n                                reject(e);\n                            });\n                    },\n                    function(sqlError) {\n                        reject(sqlError);\n                    }\n                );\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage,\n    _support: isWebSQLValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nexport default webSQLStorage;\n","import idbDriver from './drivers/indexeddb';\nimport websqlDriver from './drivers/websql';\nimport localstorageDriver from './drivers/localstorage';\nimport serializer from './utils/serializer';\nimport Promise from './utils/promise';\nimport executeCallback from './utils/executeCallback';\nimport executeTwoCallbacks from './utils/executeTwoCallbacks';\nimport includes from './utils/includes';\nimport isArray from './utils/isArray';\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nconst DefinedDrivers = {};\n\nconst DriverSupport = {};\n\nconst DefaultDrivers = {\n    INDEXEDDB: idbDriver,\n    WEBSQL: websqlDriver,\n    LOCALSTORAGE: localstorageDriver\n};\n\nconst DefaultDriverOrder = [\n    DefaultDrivers.INDEXEDDB._driver,\n    DefaultDrivers.WEBSQL._driver,\n    DefaultDrivers.LOCALSTORAGE._driver\n];\n\nconst OptionalDriverMethods = ['dropInstance'];\n\nconst LibraryMethods = [\n    'clear',\n    'getItem',\n    'iterate',\n    'key',\n    'keys',\n    'length',\n    'removeItem',\n    'setItem'\n].concat(OptionalDriverMethods);\n\nconst DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function() {\n        const _args = arguments;\n        return localForageInstance.ready().then(function() {\n            return localForageInstance[libraryMethod].apply(\n                localForageInstance,\n                _args\n            );\n        });\n    };\n}\n\nfunction extend() {\n    for (let i = 1; i < arguments.length; i++) {\n        const arg = arguments[i];\n\n        if (arg) {\n            for (let key in arg) {\n                if (arg.hasOwnProperty(key)) {\n                    if (isArray(arg[key])) {\n                        arguments[0][key] = arg[key].slice();\n                    } else {\n                        arguments[0][key] = arg[key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nclass LocalForage {\n    constructor(options) {\n        for (let driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                const driver = DefaultDrivers[driverTypeKey];\n                const driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver).catch(() => {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n    config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if (typeof options === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\n                    \"Can't call config() after localforage \" + 'has been used.'\n                );\n            }\n\n            for (let i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    }\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n    defineDriver(driverObject, callback, errorCallback) {\n        const promise = new Promise(function(resolve, reject) {\n            try {\n                const driverName = driverObject._driver;\n                const complianceError = new Error(\n                    'Custom driver not compliant; see ' +\n                        'https://mozilla.github.io/localForage/#definedriver'\n                );\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                const driverMethods = LibraryMethods.concat('_initStorage');\n                for (let i = 0, len = driverMethods.length; i < len; i++) {\n                    const driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    const isRequired = !includes(\n                        OptionalDriverMethods,\n                        driverMethodName\n                    );\n                    if (\n                        (isRequired || driverObject[driverMethodName]) &&\n                        typeof driverObject[driverMethodName] !== 'function'\n                    ) {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                const configureMissingMethods = function() {\n                    const methodNotImplementedFactory = function(methodName) {\n                        return function() {\n                            const error = new Error(\n                                `Method ${methodName} is not implemented by the current driver`\n                            );\n                            const promise = Promise.reject(error);\n                            executeCallback(\n                                promise,\n                                arguments[arguments.length - 1]\n                            );\n                            return promise;\n                        };\n                    };\n\n                    for (\n                        let i = 0, len = OptionalDriverMethods.length;\n                        i < len;\n                        i++\n                    ) {\n                        const optionalDriverMethod = OptionalDriverMethods[i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[\n                                optionalDriverMethod\n                            ] = methodNotImplementedFactory(\n                                optionalDriverMethod\n                            );\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                const setDriverSupport = function(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info(\n                            `Redefining LocalForage driver: ${driverName}`\n                        );\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (\n                        driverObject._support &&\n                        typeof driverObject._support === 'function'\n                    ) {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    }\n\n    driver() {\n        return this._driver || null;\n    }\n\n    getDriver(driverName, callback, errorCallback) {\n        const getDriverPromise = DefinedDrivers[driverName]\n            ? Promise.resolve(DefinedDrivers[driverName])\n            : Promise.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    }\n\n    getSerializer(callback) {\n        const serializerPromise = Promise.resolve(serializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    }\n\n    ready(callback) {\n        const self = this;\n\n        const promise = self._driverSet.then(() => {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    }\n\n    setDriver(drivers, callback, errorCallback) {\n        const self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        const supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function() {\n                let currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        let driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self\n                            .getDriver(driverName)\n                            .then(extendSelfWithDriver)\n                            .catch(driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    const error = new Error(\n                        'No available storage method found.'\n                    );\n                    self._driverSet = Promise.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        const oldDriverSetDone =\n            this._driverSet !== null\n                ? this._driverSet.catch(() => Promise.resolve())\n                : Promise.resolve();\n\n        this._driverSet = oldDriverSetDone\n            .then(() => {\n                const driverName = supportedDrivers[0];\n                self._dbInfo = null;\n                self._ready = null;\n\n                return self.getDriver(driverName).then(driver => {\n                    self._driver = driver._driver;\n                    setDriverToConfig();\n                    self._wrapLibraryMethodsWithReady();\n                    self._initDriver = initDriver(supportedDrivers);\n                });\n            })\n            .catch(() => {\n                setDriverToConfig();\n                const error = new Error('No available storage method found.');\n                self._driverSet = Promise.reject(error);\n                return self._driverSet;\n            });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    }\n\n    supports(driverName) {\n        return !!DriverSupport[driverName];\n    }\n\n    _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    }\n\n    _getSupportedDrivers(drivers) {\n        const supportedDrivers = [];\n        for (let i = 0, len = drivers.length; i < len; i++) {\n            const driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    }\n\n    _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (let i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    }\n\n    createInstance(options) {\n        return new LocalForage(options);\n    }\n}\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\nexport default new LocalForage();\n","// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder =\n            typeof BlobBuilder !== 'undefined'\n                ? BlobBuilder\n                : typeof MSBlobBuilder !== 'undefined'\n                  ? MSBlobBuilder\n                  : typeof MozBlobBuilder !== 'undefined'\n                    ? MozBlobBuilder\n                    : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\nexport default createBlob;\n","function executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(\n            function(result) {\n                callback(null, result);\n            },\n            function(error) {\n                callback(error);\n            }\n        );\n    }\n}\n\nexport default executeCallback;\n","function executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise.catch(errorCallback);\n    }\n}\n\nexport default executeTwoCallbacks;\n","export default function getCallback() {\n    if (\n        arguments.length &&\n        typeof arguments[arguments.length - 1] === 'function'\n    ) {\n        return arguments[arguments.length - 1];\n    }\n}\n","function getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\nexport default idb;\n","const sameValue = (x, y) =>\n    x === y ||\n    (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n\nconst includes = (array, searchElement) => {\n    const len = array.length;\n    let i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nexport default includes;\n","const isArray =\n    Array.isArray ||\n    function(arg) {\n        return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\nexport default isArray;\n","import idb from './idb';\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari =\n            typeof openDatabase !== 'undefined' &&\n            /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) &&\n            !/Chrome/.test(navigator.userAgent) &&\n            !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch =\n            typeof fetch === 'function' &&\n            fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support (#5572)\n        // since Safari 10.1 shipped with fetch, we can use that to detect it\n        return (\n            (!isSafari || hasFetch) &&\n            typeof indexedDB !== 'undefined' &&\n            // some outdated implementations of IDB that appear on Samsung\n            // and HTC Android devices <4.4 are missing IDBKeyRange\n            // See: https://github.com/mozilla/localForage/issues/128\n            // See: https://github.com/mozilla/localForage/issues/272\n            typeof IDBKeyRange !== 'undefined'\n        );\n    } catch (e) {\n        return false;\n    }\n}\n\nexport default isIndexedDBValid;\n","function isLocalStorageValid() {\n    try {\n        return (\n            typeof localStorage !== 'undefined' &&\n            'setItem' in localStorage &&\n            // in IE8 typeof localStorage.setItem === 'object'\n            !!localStorage.setItem\n        );\n    } catch (e) {\n        return false;\n    }\n}\n\nexport default isLocalStorageValid;\n","function isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\nexport default isWebSQLValid;\n","export default function normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(`${key} used as a key, but it is not a string.`);\n        key = String(key);\n    }\n\n    return key;\n}\n","// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    require('lie/polyfill');\n}\nexport default Promise;\n","/* eslint-disable no-bitwise */\nimport createBlob from './createBlob';\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH =\n    SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64String +=\n            BASE_CHARS[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String =\n            base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (\n        value &&\n        (valueType === '[object ArrayBuffer]' ||\n            (value.buffer &&\n                toString.call(value.buffer) === '[object ArrayBuffer]'))\n    ) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function() {\n            // Backwards-compatible prefix for the blob type.\n            var str =\n                BLOB_TYPE_PREFIX +\n                value.type +\n                '~' +\n                bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(\n        SERIALIZED_MARKER_LENGTH,\n        TYPE_SERIALIZED_MARKER_LENGTH\n    );\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\nexport default localforageSerializer;\n","/** @fileOverview Javascript cryptography implementation.\n *\n * Crush to remove comments, shorten variable names and\n * generally reduce transmission size.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n\"use strict\";\n/*jslint indent: 2, bitwise: false, nomen: false, plusplus: false, white: false, regexp: false */\n/*global document, window, escape, unescape, module, require, Uint32Array */\n\n/**\n * The Stanford Javascript Crypto Library, top-level namespace.\n * @namespace\n */\nvar sjcl = {\n    /**\n     * Symmetric ciphers.\n     * @namespace\n     */\n    cipher: {},\n\n    /**\n     * Hash functions.  Right now only SHA256 is implemented.\n     * @namespace\n     */\n    hash: {},\n\n    /**\n     * Key exchange functions.  Right now only SRP is implemented.\n     * @namespace\n     */\n    keyexchange: {},\n\n    /**\n     * Cipher modes of operation.\n     * @namespace\n     */\n    mode: {},\n\n    /**\n     * Miscellaneous.  HMAC and PBKDF2.\n     * @namespace\n     */\n    misc: {},\n\n    /**\n     * Bit array encoders and decoders.\n     * @namespace\n     *\n     * @description\n     * The members of this namespace are functions which translate between\n     * SJCL's bitArrays and other objects (usually strings).  Because it\n     * isn't always clear which direction is encoding and which is decoding,\n     * the method names are \"fromBits\" and \"toBits\".\n     */\n    codec: {},\n\n    /**\n     * Exceptions.\n     * @namespace\n     */\n    exception: {\n        /**\n         * Ciphertext is corrupt.\n         * @constructor\n         */\n        corrupt: function(message) {\n            this.toString = function() {\n                return \"CORRUPT: \" + this.message;\n            };\n            this.message = message;\n        },\n\n        /**\n         * Invalid parameter.\n         * @constructor\n         */\n        invalid: function(message) {\n            this.toString = function() {\n                return \"INVALID: \" + this.message;\n            };\n            this.message = message;\n        },\n\n        /**\n         * Bug or missing feature in SJCL.\n         * @constructor\n         */\n        bug: function(message) {\n            this.toString = function() {\n                return \"BUG: \" + this.message;\n            };\n            this.message = message;\n        },\n\n        /**\n         * Something isn't ready.\n         * @constructor\n         */\n        notReady: function(message) {\n            this.toString = function() {\n                return \"NOT READY: \" + this.message;\n            };\n            this.message = message;\n        }\n    }\n};\n/** @fileOverview Low-level AES implementation.\n *\n * This file contains a low-level implementation of AES, optimized for\n * size and for efficiency on several browsers.  It is based on\n * OpenSSL's aes_core.c, a public-domain implementation by Vincent\n * Rijmen, Antoon Bosselaers and Paulo Barreto.\n *\n * An older version of this implementation is available in the public\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\n * Stanford University 2008-2010 and BSD-licensed for liability\n * reasons.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Schedule out an AES key for both encryption and decryption.  This\n * is a low-level class.  Use a cipher mode to do bulk encryption.\n *\n * @constructor\n * @param {Array} key The key as an array of 4, 6 or 8 words.\n */\nsjcl.cipher.aes = function(key) {\n    if (!this._tables[0][0][0]) {\n        this._precompute();\n    }\n\n    var i,\n        j,\n        tmp,\n        encKey,\n        decKey,\n        sbox = this._tables[0][4],\n        decTable = this._tables[1],\n        keyLen = key.length,\n        rcon = 1;\n\n    if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n        throw new sjcl.exception.invalid(\"invalid aes key size\");\n    }\n\n    this._key = [(encKey = key.slice(0)), (decKey = [])];\n\n    // schedule encryption keys\n    for (i = keyLen; i < 4 * keyLen + 28; i++) {\n        tmp = encKey[i - 1];\n\n        // apply sbox\n        if (i % keyLen === 0 || (keyLen === 8 && i % keyLen === 4)) {\n            tmp =\n                (sbox[tmp >>> 24] << 24) ^\n                (sbox[(tmp >> 16) & 255] << 16) ^\n                (sbox[(tmp >> 8) & 255] << 8) ^\n                sbox[tmp & 255];\n\n            // shift rows and add rcon\n            if (i % keyLen === 0) {\n                tmp = (tmp << 8) ^ (tmp >>> 24) ^ (rcon << 24);\n                rcon = (rcon << 1) ^ ((rcon >> 7) * 283);\n            }\n        }\n\n        encKey[i] = encKey[i - keyLen] ^ tmp;\n    }\n\n    // schedule decryption keys\n    for (j = 0; i; j++, i--) {\n        tmp = encKey[j & 3 ? i : i - 4];\n        if (i <= 4 || j < 4) {\n            decKey[j] = tmp;\n        } else {\n            decKey[j] =\n                decTable[0][sbox[tmp >>> 24]] ^\n                decTable[1][sbox[(tmp >> 16) & 255]] ^\n                decTable[2][sbox[(tmp >> 8) & 255]] ^\n                decTable[3][sbox[tmp & 255]];\n        }\n    }\n};\n\nsjcl.cipher.aes.prototype = {\n    // public\n    /* Something like this might appear here eventually\n  name: \"AES\",\n  blockSize: 4,\n  keySizes: [4,6,8],\n  */\n\n    /**\n     * Encrypt an array of 4 big-endian words.\n     * @param {Array} data The plaintext.\n     * @return {Array} The ciphertext.\n     */\n    encrypt: function(data) {\n        return this._crypt(data, 0);\n    },\n\n    /**\n     * Decrypt an array of 4 big-endian words.\n     * @param {Array} data The ciphertext.\n     * @return {Array} The plaintext.\n     */\n    decrypt: function(data) {\n        return this._crypt(data, 1);\n    },\n\n    /**\n     * The expanded S-box and inverse S-box tables.  These will be computed\n     * on the client so that we don't have to send them down the wire.\n     *\n     * There are two tables, _tables[0] is for encryption and\n     * _tables[1] is for decryption.\n     *\n     * The first 4 sub-tables are the expanded S-box with MixColumns.  The\n     * last (_tables[01][4]) is the S-box itself.\n     *\n     * @private\n     */\n    _tables: [[[], [], [], [], []], [[], [], [], [], []]],\n\n    /**\n     * Expand the S-box tables.\n     *\n     * @private\n     */\n    _precompute: function() {\n        var encTable = this._tables[0],\n            decTable = this._tables[1],\n            sbox = encTable[4],\n            sboxInv = decTable[4],\n            i,\n            x,\n            xInv,\n            d = [],\n            th = [],\n            x2,\n            x4,\n            x8,\n            s,\n            tEnc,\n            tDec;\n\n        // Compute double and third tables\n        for (i = 0; i < 256; i++) {\n            th[(d[i] = (i << 1) ^ ((i >> 7) * 283)) ^ i] = i;\n        }\n\n        for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n            // Compute sbox\n            s = xInv ^ (xInv << 1) ^ (xInv << 2) ^ (xInv << 3) ^ (xInv << 4);\n            s = (s >> 8) ^ (s & 255) ^ 99;\n            sbox[x] = s;\n            sboxInv[s] = x;\n\n            // Compute MixColumns\n            x8 = d[(x4 = d[(x2 = d[x])])];\n            tDec = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n            tEnc = (d[s] * 0x101) ^ (s * 0x1010100);\n\n            for (i = 0; i < 4; i++) {\n                encTable[i][x] = tEnc = (tEnc << 24) ^ (tEnc >>> 8);\n                decTable[i][s] = tDec = (tDec << 24) ^ (tDec >>> 8);\n            }\n        }\n\n        // Compactify.  Considerable speedup on Firefox.\n        for (i = 0; i < 5; i++) {\n            encTable[i] = encTable[i].slice(0);\n            decTable[i] = decTable[i].slice(0);\n        }\n    },\n\n    /**\n     * Encryption and decryption core.\n     * @param {Array} input Four words to be encrypted or decrypted.\n     * @param dir The direction, 0 for encrypt and 1 for decrypt.\n     * @return {Array} The four encrypted or decrypted words.\n     * @private\n     */\n    _crypt: function(input, dir) {\n        if (input.length !== 4) {\n            throw new sjcl.exception.invalid(\"invalid aes block size\");\n        }\n\n        var key = this._key[dir],\n            // state variables a,b,c,d are loaded with pre-whitened data\n            a = input[0] ^ key[0],\n            b = input[dir ? 3 : 1] ^ key[1],\n            c = input[2] ^ key[2],\n            d = input[dir ? 1 : 3] ^ key[3],\n            a2,\n            b2,\n            c2,\n            nInnerRounds = key.length / 4 - 2,\n            i,\n            kIndex = 4,\n            out = [0, 0, 0, 0],\n            table = this._tables[dir],\n            // load up the tables\n            t0 = table[0],\n            t1 = table[1],\n            t2 = table[2],\n            t3 = table[3],\n            sbox = table[4];\n\n        // Inner rounds.  Cribbed from OpenSSL.\n        for (i = 0; i < nInnerRounds; i++) {\n            a2 = t0[a >>> 24] ^ t1[(b >> 16) & 255] ^ t2[(c >> 8) & 255] ^ t3[d & 255] ^ key[kIndex];\n            b2 = t0[b >>> 24] ^ t1[(c >> 16) & 255] ^ t2[(d >> 8) & 255] ^ t3[a & 255] ^ key[kIndex + 1];\n            c2 = t0[c >>> 24] ^ t1[(d >> 16) & 255] ^ t2[(a >> 8) & 255] ^ t3[b & 255] ^ key[kIndex + 2];\n            d = t0[d >>> 24] ^ t1[(a >> 16) & 255] ^ t2[(b >> 8) & 255] ^ t3[c & 255] ^ key[kIndex + 3];\n            kIndex += 4;\n            a = a2;\n            b = b2;\n            c = c2;\n        }\n\n        // Last round.\n        for (i = 0; i < 4; i++) {\n            out[dir ? 3 & -i : i] =\n                (sbox[a >>> 24] << 24) ^\n                (sbox[(b >> 16) & 255] << 16) ^\n                (sbox[(c >> 8) & 255] << 8) ^\n                sbox[d & 255] ^\n                key[kIndex++];\n            a2 = a;\n            a = b;\n            b = c;\n            c = d;\n            d = a2;\n        }\n\n        return out;\n    }\n};\n\n/** @fileOverview Arrays of bits, encoded as arrays of Numbers.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Arrays of bits, encoded as arrays of Numbers.\n * @namespace\n * @description\n * <p>\n * These objects are the currency accepted by SJCL's crypto functions.\n * </p>\n *\n * <p>\n * Most of our crypto primitives operate on arrays of 4-byte words internally,\n * but many of them can take arguments that are not a multiple of 4 bytes.\n * This library encodes arrays of bits (whose size need not be a multiple of 8\n * bits) as arrays of 32-bit words.  The bits are packed, big-endian, into an\n * array of words, 32 bits at a time.  Since the words are double-precision\n * floating point numbers, they fit some extra data.  We use this (in a private,\n * possibly-changing manner) to encode the number of bits actually  present\n * in the last word of the array.\n * </p>\n *\n * <p>\n * Because bitwise ops clear this out-of-band data, these arrays can be passed\n * to ciphers like AES which want arrays of words.\n * </p>\n */\nsjcl.bitArray = {\n    /**\n     * Array slices in units of bits.\n     * @param {bitArray} a The array to slice.\n     * @param {Number} bstart The offset to the start of the slice, in bits.\n     * @param {Number} bend The offset to the end of the slice, in bits.  If this is undefined,\n     * slice until the end of the array.\n     * @return {bitArray} The requested slice.\n     */\n    bitSlice: function(a, bstart, bend) {\n        a = sjcl.bitArray._shiftRight(a.slice(bstart / 32), 32 - (bstart & 31)).slice(1);\n        return bend === undefined ? a : sjcl.bitArray.clamp(a, bend - bstart);\n    },\n\n    /**\n     * Extract a number packed into a bit array.\n     * @param {bitArray} a The array to slice.\n     * @param {Number} bstart The offset to the start of the slice, in bits.\n     * @param {Number} blength The length of the number to extract.\n     * @return {Number} The requested slice.\n     */\n    extract: function(a, bstart, blength) {\n        // FIXME: this Math.floor is not necessary at all, but for some reason\n        // seems to suppress a bug in the Chromium JIT.\n        var x,\n            sh = Math.floor((-bstart - blength) & 31);\n        if (((bstart + blength - 1) ^ bstart) & -32) {\n            // it crosses a boundary\n            x = (a[(bstart / 32) | 0] << (32 - sh)) ^ (a[(bstart / 32 + 1) | 0] >>> sh);\n        } else {\n            // within a single word\n            x = a[(bstart / 32) | 0] >>> sh;\n        }\n        return x & ((1 << blength) - 1);\n    },\n\n    /**\n     * Concatenate two bit arrays.\n     * @param {bitArray} a1 The first array.\n     * @param {bitArray} a2 The second array.\n     * @return {bitArray} The concatenation of a1 and a2.\n     */\n    concat: function(a1, a2) {\n        if (a1.length === 0 || a2.length === 0) {\n            return a1.concat(a2);\n        }\n\n        var last = a1[a1.length - 1],\n            shift = sjcl.bitArray.getPartial(last);\n        if (shift === 32) {\n            return a1.concat(a2);\n        } else {\n            return sjcl.bitArray._shiftRight(a2, shift, last | 0, a1.slice(0, a1.length - 1));\n        }\n    },\n\n    /**\n     * Find the length of an array of bits.\n     * @param {bitArray} a The array.\n     * @return {Number} The length of a, in bits.\n     */\n    bitLength: function(a) {\n        var l = a.length,\n            x;\n        if (l === 0) {\n            return 0;\n        }\n        x = a[l - 1];\n        return (l - 1) * 32 + sjcl.bitArray.getPartial(x);\n    },\n\n    /**\n     * Truncate an array.\n     * @param {bitArray} a The array.\n     * @param {Number} len The length to truncate to, in bits.\n     * @return {bitArray} A new array, truncated to len bits.\n     */\n    clamp: function(a, len) {\n        if (a.length * 32 < len) {\n            return a;\n        }\n        a = a.slice(0, Math.ceil(len / 32));\n        var l = a.length;\n        len = len & 31;\n        if (l > 0 && len) {\n            a[l - 1] = sjcl.bitArray.partial(len, a[l - 1] & (0x80000000 >> (len - 1)), 1);\n        }\n        return a;\n    },\n\n    /**\n     * Make a partial word for a bit array.\n     * @param {Number} len The number of bits in the word.\n     * @param {Number} x The bits.\n     * @param {Number} [_end=0] Pass 1 if x has already been shifted to the high side.\n     * @return {Number} The partial word.\n     */\n    partial: function(len, x, _end) {\n        if (len === 32) {\n            return x;\n        }\n        return (_end ? x | 0 : x << (32 - len)) + len * 0x10000000000;\n    },\n\n    /**\n     * Get the number of bits used by a partial word.\n     * @param {Number} x The partial word.\n     * @return {Number} The number of bits used by the partial word.\n     */\n    getPartial: function(x) {\n        return Math.round(x / 0x10000000000) || 32;\n    },\n\n    /**\n     * Compare two arrays for equality in a predictable amount of time.\n     * @param {bitArray} a The first array.\n     * @param {bitArray} b The second array.\n     * @return {boolean} true if a == b; false otherwise.\n     */\n    equal: function(a, b) {\n        if (sjcl.bitArray.bitLength(a) !== sjcl.bitArray.bitLength(b)) {\n            return false;\n        }\n        var x = 0,\n            i;\n        for (i = 0; i < a.length; i++) {\n            x |= a[i] ^ b[i];\n        }\n        return x === 0;\n    },\n\n    /** Shift an array right.\n     * @param {bitArray} a The array to shift.\n     * @param {Number} shift The number of bits to shift.\n     * @param {Number} [carry=0] A byte to carry in\n     * @param {bitArray} [out=[]] An array to prepend to the output.\n     * @private\n     */\n    _shiftRight: function(a, shift, carry, out) {\n        var i,\n            last2 = 0,\n            shift2;\n        if (out === undefined) {\n            out = [];\n        }\n\n        for (; shift >= 32; shift -= 32) {\n            out.push(carry);\n            carry = 0;\n        }\n        if (shift === 0) {\n            return out.concat(a);\n        }\n\n        for (i = 0; i < a.length; i++) {\n            out.push(carry | (a[i] >>> shift));\n            carry = a[i] << (32 - shift);\n        }\n        last2 = a.length ? a[a.length - 1] : 0;\n        shift2 = sjcl.bitArray.getPartial(last2);\n        out.push(sjcl.bitArray.partial((shift + shift2) & 31, shift + shift2 > 32 ? carry : out.pop(), 1));\n        return out;\n    },\n\n    /** xor a block of 4 words together.\n     * @private\n     */\n    _xor4: function(x, y) {\n        return [x[0] ^ y[0], x[1] ^ y[1], x[2] ^ y[2], x[3] ^ y[3]];\n    },\n\n    /** byteswap a word array inplace.\n     * (does not handle partial words)\n     * @param {sjcl.bitArray} a word array\n     * @return {sjcl.bitArray} byteswapped array\n     */\n    byteswapM: function(a) {\n        var i,\n            v,\n            m = 0xff00;\n        for (i = 0; i < a.length; ++i) {\n            v = a[i];\n            a[i] = (v >>> 24) | ((v >>> 8) & m) | ((v & m) << 8) | (v << 24);\n        }\n        return a;\n    }\n};\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * UTF-8 strings\n * @namespace\n */\nsjcl.codec.utf8String = {\n    /** Convert from a bitArray to a UTF-8 string. */\n    fromBits: function(arr) {\n        var out = \"\",\n            bl = sjcl.bitArray.bitLength(arr),\n            i,\n            tmp;\n        for (i = 0; i < bl / 8; i++) {\n            if ((i & 3) === 0) {\n                tmp = arr[i / 4];\n            }\n            out += String.fromCharCode(((tmp >>> 8) >>> 8) >>> 8);\n            tmp <<= 8;\n        }\n        return decodeURIComponent(escape(out));\n    },\n\n    /** Convert from a UTF-8 string to a bitArray. */\n    toBits: function(str) {\n        str = unescape(encodeURIComponent(str));\n        var out = [],\n            i,\n            tmp = 0;\n        for (i = 0; i < str.length; i++) {\n            tmp = (tmp << 8) | str.charCodeAt(i);\n            if ((i & 3) === 3) {\n                out.push(tmp);\n                tmp = 0;\n            }\n        }\n        if (i & 3) {\n            out.push(sjcl.bitArray.partial(8 * (i & 3), tmp));\n        }\n        return out;\n    }\n};\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Arrays of bytes\n * @namespace\n */\nsjcl.codec.bytes = {\n    /** Convert from a bitArray to an array of bytes. */\n    fromBits: function(arr) {\n        var out = [],\n            bl = sjcl.bitArray.bitLength(arr),\n            i,\n            tmp;\n        for (i = 0; i < bl / 8; i++) {\n            if ((i & 3) === 0) {\n                tmp = arr[i / 4];\n            }\n            out.push(tmp >>> 24);\n            tmp <<= 8;\n        }\n        return out;\n    },\n    /** Convert from an array of bytes to a bitArray. */\n    toBits: function(bytes) {\n        var out = [],\n            i,\n            tmp = 0;\n        for (i = 0; i < bytes.length; i++) {\n            tmp = (tmp << 8) | bytes[i];\n            if ((i & 3) === 3) {\n                out.push(tmp);\n                tmp = 0;\n            }\n        }\n        if (i & 3) {\n            out.push(sjcl.bitArray.partial(8 * (i & 3), tmp));\n        }\n        return out;\n    }\n};\n/** @fileOverview CCM mode implementation.\n *\n * Special thanks to Roy Nicholson for pointing out a bug in our\n * implementation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * CTR mode with CBC MAC.\n * @namespace\n */\nsjcl.mode.ccm = {\n    /** The name of the mode.\n     * @constant\n     */\n    name: \"ccm\",\n\n    _progressListeners: [],\n\n    listenProgress: function(cb) {\n        sjcl.mode.ccm._progressListeners.push(cb);\n    },\n\n    unListenProgress: function(cb) {\n        var index = sjcl.mode.ccm._progressListeners.indexOf(cb);\n        if (index > -1) {\n            sjcl.mode.ccm._progressListeners.splice(index, 1);\n        }\n    },\n\n    _callProgressListener: function(val) {\n        var p = sjcl.mode.ccm._progressListeners.slice(),\n            i;\n\n        for (i = 0; i < p.length; i += 1) {\n            p[i](val);\n        }\n    },\n\n    /** Encrypt in CCM mode.\n     * @static\n     * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n     * @param {bitArray} plaintext The plaintext data.\n     * @param {bitArray} iv The initialization value.\n     * @param {bitArray} [adata=[]] The authenticated data.\n     * @param {Number} [tlen=64] the desired tag length, in bits.\n     * @return {bitArray} The encrypted data, an array of bytes.\n     */\n    encrypt: function(prf, plaintext, iv, adata, tlen) {\n        var L,\n            out = plaintext.slice(0),\n            tag,\n            w = sjcl.bitArray,\n            ivl = w.bitLength(iv) / 8,\n            ol = w.bitLength(out) / 8;\n        tlen = tlen || 64;\n        adata = adata || [];\n\n        if (ivl < 7) {\n            throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");\n        }\n\n        // compute the length of the length\n        for (L = 2; L < 4 && ol >>> (8 * L); L++) {}\n        if (L < 15 - ivl) {\n            L = 15 - ivl;\n        }\n        iv = w.clamp(iv, 8 * (15 - L));\n\n        // compute the tag\n        tag = sjcl.mode.ccm._computeTag(prf, plaintext, iv, adata, tlen, L);\n\n        // encrypt\n        out = sjcl.mode.ccm._ctrMode(prf, out, iv, tag, tlen, L);\n\n        return w.concat(out.data, out.tag);\n    },\n\n    /** Decrypt in CCM mode.\n     * @static\n     * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n     * @param {bitArray} ciphertext The ciphertext data.\n     * @param {bitArray} iv The initialization value.\n     * @param {bitArray} [adata=[]] adata The authenticated data.\n     * @param {Number} [tlen=64] tlen the desired tag length, in bits.\n     * @return {bitArray} The decrypted data.\n     */\n    decrypt: function(prf, ciphertext, iv, adata, tlen) {\n        tlen = tlen || 64;\n        adata = adata || [];\n        var L,\n            w = sjcl.bitArray,\n            ivl = w.bitLength(iv) / 8,\n            ol = w.bitLength(ciphertext),\n            out = w.clamp(ciphertext, ol - tlen),\n            tag = w.bitSlice(ciphertext, ol - tlen),\n            tag2;\n\n        ol = (ol - tlen) / 8;\n\n        if (ivl < 7) {\n            throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");\n        }\n\n        // compute the length of the length\n        for (L = 2; L < 4 && ol >>> (8 * L); L++) {}\n        if (L < 15 - ivl) {\n            L = 15 - ivl;\n        }\n        iv = w.clamp(iv, 8 * (15 - L));\n\n        // decrypt\n        out = sjcl.mode.ccm._ctrMode(prf, out, iv, tag, tlen, L);\n\n        // check the tag\n        tag2 = sjcl.mode.ccm._computeTag(prf, out.data, iv, adata, tlen, L);\n        if (!w.equal(out.tag, tag2)) {\n            throw new sjcl.exception.corrupt(\"ccm: tag doesn't match\");\n        }\n\n        return out.data;\n    },\n\n    _macAdditionalData: function(prf, adata, iv, tlen, ol, L) {\n        var mac,\n            tmp,\n            i,\n            macData = [],\n            w = sjcl.bitArray,\n            xor = w._xor4;\n\n        // mac the flags\n        mac = [w.partial(8, (adata.length ? 1 << 6 : 0) | ((tlen - 2) << 2) | (L - 1))];\n\n        // mac the iv and length\n        mac = w.concat(mac, iv);\n        mac[3] |= ol;\n        mac = prf.encrypt(mac);\n\n        if (adata.length) {\n            // mac the associated data.  start with its length...\n            tmp = w.bitLength(adata) / 8;\n            if (tmp <= 0xfeff) {\n                macData = [w.partial(16, tmp)];\n            } else if (tmp <= 0xffffffff) {\n                macData = w.concat([w.partial(16, 0xfffe)], [tmp]);\n            } // else ...\n\n            // mac the data itself\n            macData = w.concat(macData, adata);\n            for (i = 0; i < macData.length; i += 4) {\n                mac = prf.encrypt(xor(mac, macData.slice(i, i + 4).concat([0, 0, 0])));\n            }\n        }\n\n        return mac;\n    },\n\n    /* Compute the (unencrypted) authentication tag, according to the CCM specification\n     * @param {Object} prf The pseudorandom function.\n     * @param {bitArray} plaintext The plaintext data.\n     * @param {bitArray} iv The initialization value.\n     * @param {bitArray} adata The authenticated data.\n     * @param {Number} tlen the desired tag length, in bits.\n     * @return {bitArray} The tag, but not yet encrypted.\n     * @private\n     */\n    _computeTag: function(prf, plaintext, iv, adata, tlen, L) {\n        // compute B[0]\n        var mac,\n            i,\n            w = sjcl.bitArray,\n            xor = w._xor4;\n\n        tlen /= 8;\n\n        // check tag length and message length\n        if (tlen % 2 || tlen < 4 || tlen > 16) {\n            throw new sjcl.exception.invalid(\"ccm: invalid tag length\");\n        }\n\n        if (adata.length > 0xffffffff || plaintext.length > 0xffffffff) {\n            // I don't want to deal with extracting high words from doubles.\n            throw new sjcl.exception.bug(\"ccm: can't deal with 4GiB or more data\");\n        }\n\n        mac = sjcl.mode.ccm._macAdditionalData(prf, adata, iv, tlen, w.bitLength(plaintext) / 8, L);\n\n        // mac the plaintext\n        for (i = 0; i < plaintext.length; i += 4) {\n            mac = prf.encrypt(xor(mac, plaintext.slice(i, i + 4).concat([0, 0, 0])));\n        }\n\n        return w.clamp(mac, tlen * 8);\n    },\n\n    /** CCM CTR mode.\n     * Encrypt or decrypt data and tag with the prf in CCM-style CTR mode.\n     * May mutate its arguments.\n     * @param {Object} prf The PRF.\n     * @param {bitArray} data The data to be encrypted or decrypted.\n     * @param {bitArray} iv The initialization vector.\n     * @param {bitArray} tag The authentication tag.\n     * @param {Number} tlen The length of th etag, in bits.\n     * @param {Number} L The CCM L value.\n     * @return {Object} An object with data and tag, the en/decryption of data and tag values.\n     * @private\n     */\n    _ctrMode: function(prf, data, iv, tag, tlen, L) {\n        var enc,\n            i,\n            w = sjcl.bitArray,\n            xor = w._xor4,\n            ctr,\n            l = data.length,\n            bl = w.bitLength(data),\n            n = l / 50,\n            p = n;\n\n        // start the ctr\n        ctr = w\n            .concat([w.partial(8, L - 1)], iv)\n            .concat([0, 0, 0])\n            .slice(0, 4);\n\n        // en/decrypt the tag\n        tag = w.bitSlice(xor(tag, prf.encrypt(ctr)), 0, tlen);\n\n        // en/decrypt the data\n        if (!l) {\n            return { tag: tag, data: [] };\n        }\n\n        for (i = 0; i < l; i += 4) {\n            if (i > n) {\n                sjcl.mode.ccm._callProgressListener(i / l);\n                n += p;\n            }\n            ctr[3]++;\n            enc = prf.encrypt(ctr);\n            data[i] ^= enc[0];\n            data[i + 1] ^= enc[1];\n            data[i + 2] ^= enc[2];\n            data[i + 3] ^= enc[3];\n        }\n        return { tag: tag, data: w.clamp(data, bl) };\n    }\n};\n\nexport { sjcl };\n","var map = {\n\t\"./_template.json\": [\n\t\t\"../locale/res/translations/_template.json\",\n\t\t\"locale_res_translations__template_json\"\n\t],\n\t\"./de.json\": [\n\t\t\"../locale/res/translations/de.json\",\n\t\t\"locale_res_translations_de_json\"\n\t],\n\t\"./es.json\": [\n\t\t\"../locale/res/translations/es.json\",\n\t\t\"locale_res_translations_es_json\"\n\t],\n\t\"./fr.json\": [\n\t\t\"../locale/res/translations/fr.json\",\n\t\t\"locale_res_translations_fr_json\"\n\t],\n\t\"./pl.json\": [\n\t\t\"../locale/res/translations/pl.json\",\n\t\t\"locale_res_translations_pl_json\"\n\t],\n\t\"./ru.json\": [\n\t\t\"../locale/res/translations/ru.json\",\n\t\t\"locale_res_translations_ru_json\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"../locale/res/translations lazy recursive ^\\\\.\\\\/.*\\\\.json$\";\nmodule.exports = webpackAsyncContext;","import {\n    CryptoProvider,\n    PBKDF2Params,\n    AESKey,\n    RSAPublicKey,\n    RSAPrivateKey,\n    HMACKey,\n    SymmetricKey,\n    AESKeyParams,\n    RSAKeyParams,\n    HMACParams,\n    HMACKeyParams,\n    AESEncryptionParams,\n    RSAEncryptionParams,\n    HashParams,\n    RSASigningParams\n} from \"@padloc/core/src/crypto\";\nimport { Err, ErrorCode } from \"@padloc/core/src/error\";\nimport SJCLProvider from \"@padloc/core/src/sjcl\";\n\nconst webCrypto = window.crypto && window.crypto.subtle;\n\nexport class WebCryptoProvider implements CryptoProvider {\n    async randomBytes(n: number): Promise<Uint8Array> {\n        const bytes = window.crypto.getRandomValues(new Uint8Array(n));\n        return bytes;\n    }\n\n    async hash(input: Uint8Array, params: HashParams): Promise<Uint8Array> {\n        const bytes = await webCrypto.digest({ name: params.algorithm }, input);\n        return new Uint8Array(bytes);\n    }\n\n    generateKey(params: AESKeyParams): Promise<AESKey>;\n    generateKey(params: RSAKeyParams): Promise<{ privateKey: RSAPrivateKey; publicKey: RSAPublicKey }>;\n    generateKey(params: HMACKeyParams): Promise<HMACKey>;\n    async generateKey(params: AESKeyParams | RSAKeyParams | HMACKeyParams) {\n        switch (params.algorithm) {\n            case \"AES\":\n            case \"HMAC\":\n                return this.randomBytes(params.keySize / 8);\n            case \"RSA\":\n                const keyPair = (await webCrypto.generateKey(Object.assign(params, { name: \"RSA-OAEP\" }), true, [\n                    \"encrypt\",\n                    \"decrypt\"\n                ])) as CryptoKeyPair;\n\n                const privateKey = await crypto.subtle.exportKey(\"pkcs8\", keyPair.privateKey);\n                const publicKey = await crypto.subtle.exportKey(\"spki\", keyPair.publicKey);\n\n                return {\n                    privateKey: new Uint8Array(privateKey),\n                    publicKey: new Uint8Array(publicKey)\n                };\n            // case \"HMAC\":\n            //     const key = await webCrypto.generateKey(Object.assign({}, params, { name: params.algorithm }), true, [\n            //         \"sign\",\n            //         \"verify\"\n            //     ]);\n            //     const raw = await webCrypto.exportKey(\"raw\", key);\n            //     return new Uint8Array(raw));\n        }\n    }\n\n    async deriveKey(password: Uint8Array, params: PBKDF2Params): Promise<SymmetricKey> {\n        const baseKey = await webCrypto.importKey(\"raw\", password, params.algorithm, false, [\"deriveBits\"]);\n\n        const key = await webCrypto.deriveBits(\n            {\n                name: params.algorithm,\n                salt: params.salt!,\n                iterations: params.iterations,\n                hash: params.hash\n            },\n            baseKey,\n            params.keySize\n        );\n\n        return new Uint8Array(key);\n    }\n\n    encrypt(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array>;\n    encrypt(publicKey: RSAPublicKey, data: Uint8Array, params: RSAEncryptionParams): Promise<Uint8Array>;\n    async encrypt(\n        key: AESKey | RSAPublicKey,\n        data: Uint8Array,\n        params: AESEncryptionParams | RSAEncryptionParams\n    ): Promise<Uint8Array> {\n        switch (params.algorithm) {\n            case \"AES-GCM\":\n            case \"AES-CCM\":\n                return this._encryptAES(key, data, params);\n            case \"RSA-OAEP\":\n                return this._encryptRSA(key, data, params);\n            default:\n                throw new Err(ErrorCode.INVALID_ENCRYPTION_PARAMS);\n        }\n    }\n\n    decrypt(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array>;\n    decrypt(publicKey: RSAPublicKey, data: Uint8Array, params: RSAEncryptionParams): Promise<Uint8Array>;\n    async decrypt(\n        key: AESKey | RSAPublicKey,\n        data: Uint8Array,\n        params: AESEncryptionParams | RSAEncryptionParams\n    ): Promise<Uint8Array> {\n        switch (params.algorithm) {\n            case \"AES-GCM\":\n            case \"AES-CCM\":\n                return this._decryptAES(key, data, params);\n            case \"RSA-OAEP\":\n                return this._decryptRSA(key, data, params);\n            default:\n                throw new Err(ErrorCode.INVALID_ENCRYPTION_PARAMS);\n        }\n    }\n\n    private async _encryptAES(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array> {\n        if (params.algorithm === \"AES-CCM\") {\n            return SJCLProvider.encrypt(key, data, params);\n        }\n\n        const k = await webCrypto.importKey(\"raw\", key, params.algorithm, false, [\"encrypt\"]);\n\n        try {\n            const buf = await webCrypto.encrypt(\n                {\n                    name: params.algorithm,\n                    iv: params.iv,\n                    additionalData: params.additionalData,\n                    tagLength: params.tagSize\n                },\n                k,\n                data\n            );\n\n            return new Uint8Array(buf);\n        } catch (e) {\n            throw new Err(ErrorCode.ENCRYPTION_FAILED);\n        }\n    }\n\n    private async _decryptAES(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array> {\n        if (params.algorithm === \"AES-CCM\") {\n            return SJCLProvider.decrypt(key, data, params);\n        }\n\n        const k = await webCrypto.importKey(\"raw\", key, params.algorithm, false, [\"decrypt\"]);\n\n        try {\n            const buf = await webCrypto.decrypt(\n                {\n                    name: params.algorithm,\n                    iv: params.iv!,\n                    additionalData: params.additionalData!,\n                    tagLength: params.tagSize\n                },\n                k,\n                data\n            );\n\n            return new Uint8Array(buf);\n        } catch (e) {\n            throw new Err(ErrorCode.DECRYPTION_FAILED);\n        }\n    }\n\n    async _encryptRSA(publicKey: RSAPublicKey, key: AESKey, params: RSAEncryptionParams) {\n        const p = Object.assign({}, params, { name: params.algorithm });\n        const k = await webCrypto.importKey(\"spki\", publicKey, p, false, [\"encrypt\"]);\n        try {\n            const buf = await webCrypto.encrypt(p, k, key);\n            return new Uint8Array(buf);\n        } catch (e) {\n            throw new Err(ErrorCode.DECRYPTION_FAILED);\n        }\n    }\n\n    async _decryptRSA(privateKey: RSAPrivateKey, key: AESKey, params: RSAEncryptionParams) {\n        const p = Object.assign({}, params, { name: params.algorithm });\n        const k = await webCrypto.importKey(\"pkcs8\", privateKey, p, false, [\"decrypt\"]);\n        try {\n            const buf = await webCrypto.decrypt(p, k, key);\n            return new Uint8Array(buf);\n        } catch (e) {\n            throw new Err(ErrorCode.DECRYPTION_FAILED);\n        }\n    }\n\n    async fingerprint(key: RSAPublicKey): Promise<Uint8Array> {\n        const bytes = await webCrypto.digest(\"SHA-256\", key);\n        return new Uint8Array(bytes);\n    }\n\n    async sign(key: HMACKey, data: Uint8Array, params: HMACParams): Promise<Uint8Array>;\n    async sign(key: RSAPrivateKey, data: Uint8Array, params: RSASigningParams): Promise<Uint8Array>;\n    async sign(\n        key: HMACKey | RSAPrivateKey,\n        data: Uint8Array,\n        params: HMACParams | RSASigningParams\n    ): Promise<Uint8Array> {\n        switch (params.algorithm) {\n            case \"HMAC\":\n                return this._signHMAC(key, data, params);\n            case \"RSA-PSS\":\n                return this._signRSA(key, data, params);\n            default:\n                throw new Err(ErrorCode.NOT_SUPPORTED);\n        }\n    }\n\n    async verify(key: HMACKey, signature: Uint8Array, data: Uint8Array, params: HMACParams): Promise<boolean>;\n    async verify(\n        key: RSAPrivateKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        params: RSASigningParams\n    ): Promise<boolean>;\n    async verify(\n        key: HMACKey | RSAPrivateKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        params: HMACParams | RSASigningParams\n    ): Promise<boolean> {\n        switch (params.algorithm) {\n            case \"HMAC\":\n                return this._verifyHMAC(key, signature, data, params);\n            case \"RSA-PSS\":\n                return this._verifyRSA(key, signature, data, params);\n            default:\n                throw new Err(ErrorCode.NOT_SUPPORTED);\n        }\n    }\n\n    private async _signHMAC(key: HMACKey, data: Uint8Array, params: HMACParams): Promise<Uint8Array> {\n        const p = Object.assign({}, params, { name: params.algorithm, length: params.keySize });\n        const k = await webCrypto.importKey(\"raw\", key, p, false, [\"sign\"]);\n        const signature = await webCrypto.sign(p, k, data);\n        return new Uint8Array(signature);\n    }\n\n    private async _verifyHMAC(\n        key: HMACKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        params: HMACParams\n    ): Promise<boolean> {\n        const p = Object.assign({}, params, { name: params.algorithm, length: params.keySize });\n        const k = await webCrypto.importKey(\"raw\", key, p, false, [\"verify\"]);\n        return await webCrypto.verify(p, k, signature, data);\n    }\n\n    private async _signRSA(key: RSAPrivateKey, data: Uint8Array, params: RSASigningParams): Promise<Uint8Array> {\n        const p = Object.assign({}, params, { name: params.algorithm });\n        const k = await webCrypto.importKey(\"pkcs8\", key, p, false, [\"sign\"]);\n        const signature = await webCrypto.sign(p, k, data);\n        return new Uint8Array(signature);\n    }\n\n    private async _verifyRSA(\n        key: RSAPublicKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        params: RSASigningParams\n    ): Promise<boolean> {\n        const p = Object.assign({}, params, { name: params.algorithm });\n        const k = await webCrypto.importKey(\"spki\", key, p, false, [\"verify\"]);\n        return await webCrypto.verify(p, k, signature, data);\n    }\n}\n\nexport default WebCryptoProvider;\n","import { Platform, StubPlatform, DeviceInfo } from \"@padloc/core/src/platform\";\nimport { bytesToBase64 } from \"@padloc/core/src/encoding\";\nimport { WebCryptoProvider } from \"./crypto\";\nimport { LocalStorage } from \"./storage\";\n\nconst browserInfo = (async () => {\n    const { default: UAParser } = await import(/* webpackChunkName: \"ua-parser\" */ \"ua-parser-js\");\n    return new UAParser(navigator.userAgent).getResult();\n})();\n\nexport class WebPlatform extends StubPlatform implements Platform {\n    private _clipboardTextArea: HTMLTextAreaElement;\n    private _qrVideo: HTMLVideoElement;\n    private _qrCanvas: HTMLCanvasElement;\n\n    crypto = new WebCryptoProvider();\n    storage = new LocalStorage();\n\n    // Set clipboard text using `document.execCommand(\"cut\")`.\n    // NOTE: This only works in certain environments like Google Chrome apps with the appropriate permissions set\n    async setClipboard(text: string): Promise<void> {\n        this._clipboardTextArea = this._clipboardTextArea || document.createElement(\"textarea\");\n        this._clipboardTextArea.contentEditable = \"true\";\n        this._clipboardTextArea.readOnly = false;\n        this._clipboardTextArea.value = text;\n        document.body.appendChild(this._clipboardTextArea);\n        const range = document.createRange();\n        range.selectNodeContents(this._clipboardTextArea);\n\n        const s = window.getSelection();\n        s!.removeAllRanges();\n        s!.addRange(range);\n        this._clipboardTextArea.select();\n\n        this._clipboardTextArea.setSelectionRange(0, this._clipboardTextArea.value.length); // A big number, to cover anything that could be inside the element.\n\n        document.execCommand(\"cut\");\n        document.body.removeChild(this._clipboardTextArea);\n    }\n\n    // Get clipboard text using `document.execCommand(\"paste\")`\n    // NOTE: This only works in certain environments like Google Chrome apps with the appropriate permissions set\n    async getClipboard(): Promise<string> {\n        this._clipboardTextArea = this._clipboardTextArea || document.createElement(\"textarea\");\n        document.body.appendChild(this._clipboardTextArea);\n        this._clipboardTextArea.value = \"\";\n        this._clipboardTextArea.select();\n        document.execCommand(\"paste\");\n        document.body.removeChild(this._clipboardTextArea);\n        return this._clipboardTextArea.value;\n    }\n\n    async getDeviceInfo() {\n        const { os, browser } = await browserInfo;\n        return new DeviceInfo({\n            platform: (os.name && os.name.replace(\" \", \"\")) || \"\",\n            osVersion: (os.version && os.version.replace(\" \", \"\")) || \"\",\n            id: \"\",\n            appVersion: process.env.PL_VERSION || \"\",\n            manufacturer: \"\",\n            model: \"\",\n            browser: browser.name || \"\",\n            userAgent: navigator.userAgent,\n            locale: navigator.language || \"en\",\n        });\n    }\n\n    async scanQR() {\n        return new Promise<string>((resolve, reject) => {\n            const tick = async () => {\n                if (this._qrVideo.readyState !== this._qrVideo.HAVE_ENOUGH_DATA) {\n                    requestAnimationFrame(() => tick());\n                    return;\n                }\n\n                const { default: jsQR } = await import(/* webpackChunkName: \"jsqr\" */ \"jsqr\");\n\n                const canvas = this._qrCanvas.getContext(\"2d\")!;\n                this._qrCanvas.height = this._qrVideo.videoHeight;\n                this._qrCanvas.width = this._qrVideo.videoWidth;\n                canvas.drawImage(this._qrVideo, 0, 0, this._qrCanvas.width, this._qrCanvas.height);\n                const imageData = canvas.getImageData(0, 0, this._qrCanvas.width, this._qrCanvas.height);\n                const code = jsQR(imageData.data, imageData.width, imageData.height, {\n                    inversionAttempts: \"dontInvert\",\n                });\n                if (code) {\n                    resolve(code.data);\n                }\n                requestAnimationFrame(() => tick());\n            };\n\n            if (!this._qrVideo) {\n                this._qrVideo = document.createElement(\"video\");\n                this._qrVideo.setAttribute(\"playsinline\", \"\");\n                this._qrVideo.setAttribute(\"muted\", \"\");\n                this._qrVideo.setAttribute(\"autoplay\", \"\");\n            }\n\n            if (!this._qrCanvas) {\n                this._qrCanvas = document.createElement(\"canvas\");\n                Object.assign(this._qrCanvas.style, {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    objectFit: \"cover\",\n                    zIndex: \"-1\",\n                });\n                document.body.appendChild(this._qrCanvas);\n            }\n\n            this._qrCanvas.style.display = \"block\";\n\n            navigator.mediaDevices\n                .getUserMedia({ audio: false, video: { facingMode: \"environment\" } })\n                .then((stream) => {\n                    // Use facingMode: environment to attemt to get the front camera on phones\n                    this._qrVideo.srcObject = stream;\n                    this._qrVideo.play();\n                    requestAnimationFrame(() => tick());\n                }, reject);\n        });\n    }\n\n    async stopScanQR() {\n        const stream: MediaStream | null = this._qrVideo && (this._qrVideo.srcObject as MediaStream);\n        if (stream) {\n            for (const track of stream.getTracks()) {\n                track.stop();\n            }\n        }\n\n        this._qrVideo && (this._qrVideo.srcObject = null);\n        this._qrCanvas.style.display = \"none\";\n    }\n\n    async composeEmail(addr: string, subj: string, msg: string) {\n        window.open(`mailto:${addr}?subject=${encodeURIComponent(subj)}&body=${encodeURIComponent(msg)}`, \"_system\");\n    }\n\n    async saveFile(name: string, type: string, contents: Uint8Array) {\n        const a = document.createElement(\"a\");\n        a.href = `data:${type};base64,${bytesToBase64(contents, false)}`;\n        a.download = name;\n        a.rel = \"noopener\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n}\n","import { Storage, Storable, StorableConstructor, StorageListOptions } from \"@padloc/core/src/storage\";\nimport { Err, ErrorCode } from \"@padloc/core/src/error\";\n// @ts-ignore\nimport localStorage from \"localforage/src/localforage\";\n\nexport class LocalStorage implements Storage {\n    async save(s: Storable) {\n        await localStorage.setItem(`${s.kind}_${s.id}`, s.toRaw());\n    }\n\n    async get<T extends Storable>(cls: T | StorableConstructor<T>, id: string) {\n        const s = cls instanceof Storable ? cls : new cls();\n        const data = await localStorage.getItem(`${s.kind}_${id}`);\n        if (!data) {\n            throw new Err(ErrorCode.NOT_FOUND);\n        }\n        return s.fromRaw(data);\n    }\n\n    async delete(s: Storable) {\n        await localStorage.removeItem(`${s.kind}_${s.id}`);\n    }\n\n    async clear() {\n        await localStorage.clear();\n    }\n\n    async list<T extends Storable>(_cls: StorableConstructor<T>, _: StorageListOptions<T>): Promise<T[]> {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n}\n","import { Err, ErrorCode } from \"./error\";\n\nconst chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n\nexport function bytesToBase32(arr: Uint8Array) {\n    let bits = 0;\n    let value = 0;\n    let str = \"\";\n\n    for (let i = 0; i < arr.length; i++) {\n        value = (value << 8) | arr[i];\n        bits += 8;\n\n        while (bits >= 5) {\n            str += chars[(value >>> (bits - 5)) & 31];\n            bits -= 5;\n        }\n    }\n\n    if (bits > 0) {\n        str += chars[(value << (5 - bits)) & 31];\n    }\n\n    return str;\n}\n\nexport function base32ToBytes(str: string) {\n    const strUpp = str.toUpperCase();\n    const arr = new Uint8Array(((str.length * 5) / 8) | 0);\n\n    let bits = 0;\n    let value = 0;\n    let index = 0;\n\n    for (let i = 0; i < strUpp.length; i++) {\n        const idx = chars.indexOf(strUpp[i]);\n\n        if (idx === -1) {\n            throw new Err(ErrorCode.ENCODING_ERROR, `Invalid Base32 character found: ${strUpp[i]}`);\n        }\n\n        value = (value << 5) | idx;\n        bits += 5;\n\n        if (bits >= 8) {\n            arr[index++] = (value >>> (bits - 8)) & 255;\n            bits -= 8;\n        }\n    }\n\n    return arr;\n}\n","const lookup: string[] = [];\nconst lookupURL: string[] = [];\nconst revLookup: number[] = [];\n\nconst code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst codeURL = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\nfor (let i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    lookupURL[i] = codeURL[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup[\"-\".charCodeAt(0)] = 62;\nrevLookup[\"_\".charCodeAt(0)] = 63;\n\nfunction getLens(b64: string) {\n    // Remove trailing padding characters\n    const trimmed = b64.replace(/=*$/, \"\");\n    const len = trimmed.length;\n    const padLen = (4 - (len % 4)) % 4;\n    return [len, padLen];\n}\n\n// base64 is 4/3 + up to two characters of the original data\nexport function byteLength(b64: string): number {\n    const lens = getLens(b64);\n    return _byteLength(lens[0], lens[1]);\n}\n\nfunction _byteLength(validLen: number, placeHoldersLen: number) {\n    return ((validLen + placeHoldersLen) * 3) / 4 - placeHoldersLen;\n}\n\nexport function isBase64(str: string) {\n    for (let i = 0; i < str.length; i++) {\n        if (!(typeof revLookup[str.charCodeAt(i)] === \"number\")) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function toByteArray(b64: string) {\n    let tmp;\n    const lens = getLens(b64);\n    const validLen = lens[0];\n    const placeHoldersLen = lens[1];\n\n    const arr = new Uint8Array(_byteLength(validLen, placeHoldersLen));\n\n    let curByte = 0;\n\n    // if there are placeholders, only get up to the last complete 4 chars\n    const len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n\n    let i = 0;\n    for (; i < len; i += 4) {\n        tmp =\n            (revLookup[b64.charCodeAt(i)] << 18) |\n            (revLookup[b64.charCodeAt(i + 1)] << 12) |\n            (revLookup[b64.charCodeAt(i + 2)] << 6) |\n            revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = (tmp >> 16) & 0xff;\n        arr[curByte++] = (tmp >> 8) & 0xff;\n        arr[curByte++] = tmp & 0xff;\n    }\n\n    if (placeHoldersLen === 2) {\n        tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4);\n        arr[curByte++] = tmp & 0xff;\n    }\n\n    if (placeHoldersLen === 1) {\n        tmp =\n            (revLookup[b64.charCodeAt(i)] << 10) |\n            (revLookup[b64.charCodeAt(i + 1)] << 4) |\n            (revLookup[b64.charCodeAt(i + 2)] >> 2);\n        arr[curByte++] = (tmp >> 8) & 0xff;\n        arr[curByte++] = tmp & 0xff;\n    }\n\n    return arr;\n}\n\nfunction tripletToBase64(num: number, urlSafe = false) {\n    const lu = urlSafe ? lookupURL : lookup;\n    return lu[(num >> 18) & 0x3f] + lu[(num >> 12) & 0x3f] + lu[(num >> 6) & 0x3f] + lu[num & 0x3f];\n}\n\nfunction encodeChunk(uint8: Uint8Array, start: number, end: number, urlSafe = false) {\n    let tmp;\n    const output = [];\n    for (let i = start; i < end; i += 3) {\n        tmp = ((uint8[i] << 16) & 0xff0000) + ((uint8[i + 1] << 8) & 0xff00) + (uint8[i + 2] & 0xff);\n        output.push(tripletToBase64(tmp, urlSafe));\n    }\n    return output.join(\"\");\n}\n\nexport function fromByteArray(uint8: Uint8Array, urlSafe = false) {\n    let tmp;\n    const lu = urlSafe ? lookupURL : lookup;\n    const padChar = urlSafe ? \"\" : \"=\";\n    const len = uint8.length;\n    const extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n    const parts = [];\n    const maxChunkLength = 16383; // must be multiple of 3\n\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for (let i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength, urlSafe));\n    }\n\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lu[tmp >> 2] + lu[(tmp << 4) & 0x3f] + padChar + padChar);\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lu[tmp >> 10] + lu[(tmp >> 4) & 0x3f] + lu[(tmp << 2) & 0x3f] + padChar);\n    }\n\n    return parts.join(\"\");\n}\n","import { Err, ErrorCode } from \"./error\";\nimport { toByteArray, fromByteArray, byteLength, isBase64 } from \"./base64\";\nimport { upgrade, downgrade } from \"./migrations\";\n\nexport { bytesToBase32, base32ToBytes } from \"./base32\";\n\nexport interface SerializationOptions {\n    property: string;\n    toProperty: string;\n    exclude: boolean;\n    arrayDeserializeIndividually: boolean;\n    fromRaw: (raw: any) => any;\n    toRaw: (val: any, version?: string) => any;\n}\n\nfunction registerSerializationOptions(proto: Serializable, property: string, opts: Partial<SerializationOptions>) {\n    if (!proto.hasOwnProperty(\"_propertySerializationOptions\")) {\n        const parentOptions = proto._propertySerializationOptions || [];\n        proto._propertySerializationOptions = parentOptions ? [...parentOptions] : [];\n    }\n\n    // proto._propertySerializationOptions = proto._propertySerializationOptions.filter(o => o.property === property);\n\n    proto._propertySerializationOptions.unshift(\n        Object.assign(\n            {\n                property,\n                toProperty: property,\n                exclude: false,\n                arrayDeserializeIndividually: true,\n                toRaw: () => {},\n                fromRaw: () => {}\n            },\n            opts\n        )\n    );\n}\n\n/**\n * Decorator for defining request handler methods\n */\nexport function AsSerializable(cls: SerializableConstructor, toProperty?: string) {\n    return (proto: Serializable, prop: string) =>\n        registerSerializationOptions(proto, prop, {\n            toProperty: toProperty || prop,\n            toRaw: (val: Serializable, version?: string) => val.toRaw(version),\n            fromRaw: (raw: any) => new cls().fromRaw(raw)\n        });\n}\n\nexport function AsBytes(toProperty?: string) {\n    return (proto: Serializable, prop: string) =>\n        registerSerializationOptions(proto, prop, {\n            toProperty: toProperty || prop,\n            toRaw: (val: any) => bytesToBase64(val),\n            fromRaw: (raw: any) => base64ToBytes(raw)\n        });\n}\n\nexport function AsSet(toProperty?: string) {\n    return (proto: Serializable, prop: string) =>\n        registerSerializationOptions(proto, prop, {\n            toProperty: toProperty || prop,\n            arrayDeserializeIndividually: false,\n            toRaw: (val: Set<any>) => [...val],\n            fromRaw: (raw: any[]) => new Set(raw)\n        });\n}\n\nexport function AsDate(toProperty?: string) {\n    return (proto: Serializable, prop: string) =>\n        registerSerializationOptions(proto, prop, {\n            toProperty: toProperty || prop,\n            toRaw: (val: Date) => {\n                try {\n                    return val.toISOString();\n                } catch (e) {\n                    return null;\n                }\n            },\n            fromRaw: (raw: string) => new Date(raw)\n        });\n}\n\nexport function Exclude() {\n    return (proto: Serializable, prop: string) =>\n        registerSerializationOptions(proto, prop, {\n            exclude: true\n        });\n}\n\nexport function Serialize(opts: Partial<SerializationOptions>) {\n    return (proto: Serializable, prop: string) => registerSerializationOptions(proto, prop, opts);\n}\n\n/**\n * Base class for \"serializable\" classes, i.e. classes that can be serialized\n * into a plain javascript object, JSON string or byte sequence which can be\n * used for storage or data transfer. Subclasses will generally want to overwrite\n * the [[toRaw]], [[fromRaw]] and [[validate]] methods to account for their\n * specific class structure.\n *\n * @example\n *\n * ```ts\n * class MyClass extends Serializable {\n *      name: string;\n *      parent?: MyClass;\n *      bytes: Uint8Array;\n *\n *      toRaw() {\n *          return {\n *              ...super.toRaw(),\n *              bytes: bytesToBase64(this.bytes)\n *          };\n *      }\n *\n *      fromRaw({ bytes, parent, ...rest }) {\n *          return super.fromRaw({\n *              bytes: base64ToBytes(bytes),\n *              parent: parent && new MyClass().fromRaw(parent),\n *              ...rest\n *          });\n *      }\n *\n *      validate() {\n *          return (\n *              super.validate() &&\n *              typeof this.name === \"string\" &&\n *              this.bytes instanceof Uint8Array &&\n *              (\n *                  typeof this.parent === \"undefined\" ||\n *                  this.parent instanceof MyClass\n *              )\n *          )\n *      }\n * }\n * ```\n */\nexport class Serializable {\n    /**\n     * A string representing the objects \"type\", useful for segmenting storage,\n     * among other things. Defaults to the lowercase class name, but can be\n     * overwritten by subclasses\n     */\n    get kind(): string {\n        return this.constructor.name.toLowerCase();\n    }\n\n    _propertySerializationOptions!: SerializationOptions[];\n\n    /**\n     * This is called during deserialization and should verify that all\n     * properties have been populated with values of the correct type.\n     * Subclasses should implement this method based on their class structure.\n     */\n    validate() {\n        return true;\n    }\n\n    /**\n     * Creates a raw javascript object representation of the class, which\n     * can be used for storage or data transmission. Also handles \"downgrading\" to previous\n     * versions. Use [[_toRaw]] for subclass-specific behavior.\n     */\n    toRaw(version?: string): any {\n        let raw = this._toRaw(version);\n        raw.kind = this.kind;\n        raw = downgrade(this.kind, raw, version);\n        return raw;\n    }\n\n    /**\n     * Restores propertiers from a raw object of the same form generated by\n     * [[toRaw]]. The base implementation blindly copies over values from the\n     * raw object via `Object.assign` so subclasses should explictly process\n     * any propertyies that need special treatment.\n     *\n     * Also takes are of validation and \"upgrading\" in case the raw object\n     * has an old version. Use the protected [[_fromRaw]] method to implement\n     * subclass-specific behavior.\n     */\n    fromRaw(raw: any): this {\n        // raw.kind = raw.kind || this.kind;\n        raw = upgrade(this.kind, raw);\n\n        this._fromRaw(raw);\n\n        try {\n            if (!this.validate()) {\n                console.log(\"failed to validate\", this.kind, raw);\n                throw new Err(ErrorCode.ENCODING_ERROR);\n            }\n        } catch (e) {\n            throw new Err(ErrorCode.ENCODING_ERROR);\n        }\n        return this;\n    }\n\n    /**\n     * Returns a JSON serialization of the object\n     */\n    toJSON(): string {\n        return JSON.stringify(this.toRaw());\n    }\n\n    /**\n     * Deserializes the object from a JSON string\n     */\n    fromJSON(json: string): this {\n        return this.fromRaw(JSON.parse(json));\n    }\n\n    /**\n     * Returns a serialization of the object in form of a byte array\n     */\n    toBytes(): Uint8Array {\n        return stringToBytes(this.toJSON());\n    }\n\n    /**\n     * Deserializes the object from a byte array\n     */\n    fromBytes(bytes: Uint8Array): this {\n        return this.fromJSON(bytesToString(bytes));\n    }\n\n    /**\n     * Creates a deep clone of the object\n     */\n    clone(): this {\n        // @ts-ignore: This causes a typescript warning for some reason but works fine in practice\n        return new this.constructor().fromRaw(this.toRaw());\n    }\n\n    /**\n     * Transform this object into a raw javascript object used for\n     * serialization.  The default implementation simply copies all iterable\n     * properties not included in the [[exlude]] array and calls [[toRaw]] on\n     * any properties that are themselfes instances of [[Serializable]].  This\n     * method should be overwritten by subclasses if certain properties require\n     * special treatment.\n     */\n    protected _toRaw(version: string | undefined): any {\n        let raw = {} as any;\n\n        for (const [prop, val] of Object.entries(this)) {\n            const opts =\n                this._propertySerializationOptions &&\n                this._propertySerializationOptions.find(opts => opts.property === prop);\n\n            if (prop.startsWith(\"_\") || (opts && opts.exclude)) {\n                continue;\n            }\n\n            if (opts && typeof val !== \"undefined\" && val !== null) {\n                raw[opts.property] = Array.isArray(val)\n                    ? val.map(v => opts.toRaw(v, version))\n                    : opts.toRaw(val, version);\n            } else {\n                raw[prop] = val;\n            }\n        }\n\n        return raw;\n    }\n\n    /**\n     * Restore values from a raw object. The default implementation simply copies over\n     * all iterable properties from the base object. Overwrite this method for properties\n     * that require special treatment\n     */\n    protected _fromRaw(raw: any) {\n        for (const [prop, val] of Object.entries(raw)) {\n            if (prop === \"kind\") {\n                continue;\n            }\n\n            const opts =\n                this._propertySerializationOptions &&\n                this._propertySerializationOptions.find(opts => opts.toProperty === prop);\n\n            // Skip properties that have no serialization options associated with them\n            // and are not explicitly defined as a property on the class\n            if (!opts && !this.hasOwnProperty(prop)) {\n                continue;\n            }\n\n            if (opts && typeof val !== \"undefined\" && val !== null) {\n                this[opts.property] =\n                    Array.isArray(val) && opts.arrayDeserializeIndividually\n                        ? val.map(v => opts.fromRaw(v))\n                        : opts.fromRaw(val);\n            } else {\n                this[prop] = val;\n            }\n        }\n    }\n}\n\n/**\n * Generic type representing the constructor of a class extending [[Serializable]]\n */\nexport type SerializableConstructor = new (...args: any[]) => Serializable;\n\n/**\n * Creates a string from a raw javascript object\n */\nexport function marshal(obj: object): string {\n    try {\n        return JSON.stringify(obj);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Creates a raw javascript object from a string\n */\nexport function unmarshal(str: string): any {\n    try {\n        return JSON.parse(str);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\nexport { isBase64 };\n\n/**\n * Converts a byte array to a base64 string\n */\nexport function bytesToBase64(inp: Uint8Array, urlSafe = true): string {\n    try {\n        return fromByteArray(inp, urlSafe);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a base64 string to a byte array\n */\nexport function base64ToBytes(inp: string): Uint8Array {\n    try {\n        return toByteArray(inp);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a utf-8 string to a byte array\n */\nexport function stringToBytes(str: string): Uint8Array {\n    try {\n        return new TextEncoder().encode(str);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a byte array to an utf-8 string\n */\nexport function bytesToString(bytes: Uint8Array, encoding = \"utf-8\") {\n    try {\n        return new TextDecoder(encoding).decode(bytes);\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a utf-8 string to its base64 representation\n */\nexport function stringToBase64(str: string, urlSafe = true): string {\n    const bytes = stringToBytes(str);\n    return bytesToBase64(bytes, urlSafe);\n}\n\n/**\n * Converts the base64 representation of a utf-a string to it's original representation\n */\nexport function base64ToString(inp: string): string {\n    const bytes = base64ToBytes(inp);\n    return bytesToString(bytes);\n}\n\n/**\n * Returns the byte length of a base64 string\n */\nexport function base64ByteLength(inp: string): number {\n    return byteLength(inp);\n}\n\n/**\n * Converts a hex string to a byte array\n */\nexport function hexToBytes(str: string): Uint8Array {\n    try {\n        const bytes = new Uint8Array(str.length / 2);\n        for (let i = 0; i < bytes.length; i++) {\n            bytes[i] = parseInt(str.substring(i * 2, i * 2 + 2), 16);\n        }\n        return bytes;\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a byte array to its hexadecimal representation\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n    try {\n        let str = \"\";\n        for (const b of bytes) {\n            const s = b.toString(16);\n            str += s.length == 1 ? \"0\" + s : s;\n        }\n        return str;\n    } catch (e) {\n        throw new Err(ErrorCode.ENCODING_ERROR, e.toString());\n    }\n}\n\n/**\n * Converts a base64 string to its hexadecimal representation\n */\nexport function base64ToHex(b64: string): string {\n    return bytesToHex(base64ToBytes(b64));\n}\n\n/**\n * Converts a hex string to its base64 representation\n */\nexport function hexToBase64(hex: string): string {\n    return bytesToBase64(hexToBytes(hex));\n}\n\nexport function numToBytes(num: number) {\n    return hexToBytes(num.toString(16).padStart(16, \"0\"));\n}\n\nexport function bytesToNum(bytes: Uint8Array) {\n    return parseInt(bytesToHex(bytes), 16);\n}\n\n/**\n * Concatenates a number of Uint8Arrays to a single array\n */\nexport function concatBytes(arrs: Uint8Array[], delimiter?: number): Uint8Array {\n    let length = arrs.reduce((len, arr) => len + arr.length, 0);\n\n    if (typeof delimiter !== \"undefined\") {\n        length += arrs.length - 1;\n    }\n\n    const res = new Uint8Array(length);\n    let offset = 0;\n    for (const arr of arrs) {\n        res.set(arr, offset);\n        offset += arr.length;\n\n        if (typeof delimiter !== \"undefined\" && offset < length) {\n            res.set([delimiter], offset);\n            offset++;\n        }\n    }\n\n    return res;\n}\n\n/** Checks two byte arrays for equality */\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n    if (a.length !== b.length) {\n        return false;\n    }\n\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Checks two array-like objects for equality in constant time\n * (given that the `===` operator performs in constant time over all elements)\n */\nexport function equalCT<T extends ArrayLike<any>>(a: T, b: T): boolean {\n    let match = true;\n\n    for (let i = 0; i < a.length; i++) {\n        match = match && a[i] === b[i];\n    }\n\n    return a.length === b.length && match;\n}\n","/**\n * Error codes used within Padloc\n */\nexport enum ErrorCode {\n    // Crypto Errors\n    INVALID_ENCRYPTION_PARAMS = \"invalid_encryption_params\",\n    DECRYPTION_FAILED = \"decryption_failed\",\n    ENCRYPTION_FAILED = \"encryption_failed\",\n    NOT_SUPPORTED = \"not_supported\",\n    MISSING_ACCESS = \"missing_access\",\n    VERIFICATION_ERROR = \"verification_error\",\n\n    // Client Errors\n    FAILED_CONNECTION = \"failed_connection\",\n    UNEXPECTED_REDIRECT = \"unexpected_redirect\",\n\n    // Server Errors\n    BAD_REQUEST = \"bad_request\",\n    INVALID_SESSION = \"invalid_session\",\n    SESSION_EXPIRED = \"session_expired\",\n    INSUFFICIENT_PERMISSIONS = \"insufficient_permissions\",\n    INVALID_CREDENTIALS = \"invalid_credentials\",\n    ACCOUNT_EXISTS = \"account_exists\",\n    MFA_REQUIRED = \"email_verification_required\",\n    MFA_FAILED = \"email_verification_failed\",\n    MFA_TRIES_EXCEEDED = \"email_verification_tries_exceeded\",\n    INVALID_RESPONSE = \"invalid_response\",\n    INVALID_REQUEST = \"invalid_request\",\n    OUTDATED_REVISION = \"merge_conflict\",\n    MAX_REQUEST_SIZE_EXCEEDED = \"max_request_size_exceeded\",\n    MAX_REQUEST_AGE_EXCEEDED = \"max_request_age_exceeded\",\n\n    // Quota errors\n    ORG_FROZEN = \"org_frozen\",\n    ORG_QUOTA_EXCEEDED = \"org_quota_exceeded\",\n    MEMBER_QUOTA_EXCEEDED = \"member_quota_exceeded\",\n    GROUP_QUOTA_EXCEEDED = \"group_quota_exceeded\",\n    VAULT_QUOTA_EXCEEDED = \"vault_quota_exceeded\",\n    STORAGE_QUOTA_EXCEEDED = \"storage_quota_exceeded\",\n\n    // Generic Errors\n    CLIENT_ERROR = \"client_error\",\n    SERVER_ERROR = \"server_error\",\n    UNKNOWN_ERROR = \"unknown_error\",\n\n    // Encoding errors\n    ENCODING_ERROR = \"encoding_error\",\n    UNSUPPORTED_VERSION = \"unsupported_version\",\n\n    NOT_FOUND = \"not_found\",\n    INVALID_CSV = \"invalid_csv\",\n\n    BILLING_ERROR = \"billing_error\"\n}\n\nexport interface ErrorOptions {\n    report?: boolean;\n    display?: boolean;\n    status?: number;\n    error?: Error;\n}\n\n/**\n * Custom error class augmenting the built-in `Error` with some additional properties\n */\nexport class Err extends Error {\n    /** Error code used for more precise error segmentation */\n    code: ErrorCode;\n    /** Wether or not this error should be reported to an admin, if that option exists */\n    report: boolean;\n    /** Wether or not this error should be displayed to the user */\n    display: boolean;\n    /** The original error, if available */\n    originalError?: Error;\n    /** Time when the error was created */\n    time = new Date();\n\n    constructor(code: ErrorCode, message?: string, { report = false, display = false, error }: ErrorOptions = {}) {\n        super(message || (error && error.message) || \"\");\n        this.code = code;\n        this.report = report;\n        this.display = display;\n        this.originalError = error;\n    }\n\n    toRaw() {\n        return {\n            code: this.code,\n            message: this.message,\n            stack: this.originalError ? this.originalError.stack : this.stack\n        };\n    }\n\n    toString() {\n        return `Time: ${this.time.toISOString()}\\nError Code: ${this.code}:\\nError Message: ${\n            this.message\n        }\\nStack Trace:\\n${this.originalError ? this.originalError.stack : this.stack}`;\n    }\n}\n","import { Err, ErrorCode } from \"./error\";\n\nexport interface Migration {\n    from: string;\n    to: string;\n    transforms: {\n        [kind: string]: {\n            up: (inp: any, kind?: string) => any;\n            down: (inp: any, kind?: string) => any;\n        };\n    };\n}\n\nexport const MIGRATIONS: Migration[] = [\n    {\n        from: \"3.0.14\",\n        to: \"3.1.0\",\n        transforms: {\n            account: {\n                up: ({ mainVault, orgs, ...rest }: any) => ({\n                    mainVault: { id: mainVault },\n                    orgs: orgs.map((org: any) => ({\n                        id: org\n                    })),\n                    ...rest\n                }),\n                down: ({ mainVault, orgs, ...rest }: any) => ({\n                    mainVault: mainVault.id,\n                    orgs: orgs.map((org: any) => org.id),\n                    ...rest\n                })\n            },\n            all: {\n                up: (raw: any, kind?: string) => ({ kind, ...raw }),\n                down: ({ kind, ...rest }) => rest\n            }\n        }\n    }\n];\n\nexport const EARLIEST_VERSION = MIGRATIONS[0].from;\nexport const LATEST_VERSION = MIGRATIONS[MIGRATIONS.length - 1].to;\n\nfunction norm(version: string = EARLIEST_VERSION): string {\n    return version\n        .split(\".\")\n        .map(part => part.padStart(3, \"0\"))\n        .join();\n}\n\nexport function upgrade(kind: string, raw: any, version: string = LATEST_VERSION): any {\n    if (norm(raw.version) > norm(LATEST_VERSION)) {\n        throw new Err(\n            ErrorCode.UNSUPPORTED_VERSION,\n            \"An object could not be decoded because it was encoded with a newer version of Padloc. \" +\n                \"Please update to the latest version to fix this problem!\"\n        );\n    }\n\n    const migration = MIGRATIONS.find(\n        m => norm(m.from) >= norm(raw.version || EARLIEST_VERSION) && norm(m.to) <= norm(version)\n    );\n\n    if (migration) {\n        let transform = migration.transforms[\"all\"];\n        raw = transform ? transform.up(raw, kind) : raw;\n        transform = migration.transforms[kind];\n        raw = transform ? transform.up(raw, kind) : raw;\n        raw.version = migration.to;\n        return upgrade(kind, raw, version);\n    } else {\n        raw.version = version;\n        return raw;\n    }\n}\n\nexport function downgrade(kind: string, raw: any, version: string = LATEST_VERSION): any {\n    const migration = MIGRATIONS.reverse().find(\n        m => norm(m.to) <= norm(raw.version || LATEST_VERSION) && norm(m.from) >= norm(version)\n    );\n\n    if (migration) {\n        let transform = migration.transforms[kind];\n        raw = transform ? transform.down(raw, kind) : raw;\n        transform = migration.transforms[\"all\"];\n        raw = transform ? transform.down(raw, kind) : raw;\n        raw.version = migration.from;\n        return downgrade(kind, raw, version);\n    } else {\n        raw.version = norm(version) > norm(LATEST_VERSION) ? LATEST_VERSION : version;\n        return raw;\n    }\n}\n","import { translate as $l } from \"@padloc/locale/src/translate\";\nimport { Serializable } from \"./encoding\";\nimport { CryptoProvider } from \"./crypto\";\nimport { Err, ErrorCode } from \"./error\";\nimport { StubCryptoProvider } from \"./stub-crypto-provider\";\nimport { Storage, MemoryStorage } from \"./storage\";\n\n/**\n * Object representing all information available for a given device.\n */\nexport class DeviceInfo extends Serializable {\n    /** Platform/Operating System running on the device */\n    platform: string = \"\";\n\n    /** OS version running on the device */\n    osVersion: string = \"\";\n\n    /** Unique device identifier */\n    id: string = \"\";\n\n    /** Padloc version installed on the device */\n    appVersion: string = \"\";\n\n    /** The user agent of the browser running the application */\n    userAgent: string = \"\";\n\n    /** The devices locale setting */\n    locale: string = \"en\";\n\n    /** The device manufacturer, if available */\n    manufacturer: string = \"\";\n\n    /** The device mode, if available */\n    model: string = \"\";\n\n    /** The browser the application was loaded in, if applicable */\n    browser: string = \"\";\n\n    supportsBioAuth: boolean = false;\n\n    supportsKeyStore: boolean = false;\n\n    get description() {\n        return this.browser ? $l(\"{0} on {1}\", this.browser, this.platform) : $l(\"{0} Device\", this.platform);\n    }\n\n    constructor(props?: Partial<DeviceInfo>) {\n        super();\n        props && Object.assign(this, props);\n    }\n}\n\n/**\n * Generic interface for various platform APIs\n */\nexport interface Platform {\n    /** Copies the given `text` to the system clipboard */\n    setClipboard(text: string): Promise<void>;\n\n    /** Retrieves the current text from the system clipboard */\n    getClipboard(): Promise<string>;\n\n    /** Get information about the current device */\n    getDeviceInfo(): Promise<DeviceInfo>;\n\n    crypto: CryptoProvider;\n\n    storage: Storage;\n\n    scanQR(): Promise<string>;\n    stopScanQR(): Promise<void>;\n\n    isBiometricAuthAvailable(): Promise<boolean>;\n    biometricAuth(message?: string): Promise<boolean>;\n\n    isKeyStoreAvailable(): Promise<boolean>;\n    keyStoreGet(name: string): Promise<string>;\n    keyStoreSet(name: string, val: string): Promise<void>;\n    keyStoreDelete(name: string): Promise<void>;\n\n    composeEmail(addr: string, subject: string, message: string): Promise<void>;\n\n    saveFile(name: string, type: string, contents: Uint8Array): Promise<void>;\n}\n\n/**\n * Stub implementation of the [[Platform]] interface. Useful for testing\n */\nexport class StubPlatform implements Platform {\n    crypto = new StubCryptoProvider();\n    storage: Storage = new MemoryStorage();\n\n    async setClipboard(_val: string) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n\n    async getClipboard() {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n        return \"\";\n    }\n\n    async getDeviceInfo() {\n        return new DeviceInfo();\n    }\n\n    async scanQR() {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n        return \"\";\n    }\n\n    async stopScanQR() {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n\n    async isBiometricAuthAvailable() {\n        return false;\n    }\n\n    async biometricAuth() {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n        return false;\n    }\n\n    async isKeyStoreAvailable() {\n        return false;\n    }\n\n    async keyStoreGet(_name: string) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n        return \"\";\n    }\n\n    async keyStoreSet(_name: string, _val: string) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n\n    async keyStoreDelete(_name: string) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n\n    async composeEmail(_addr: string, _subject: string, _message: string) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    }\n\n    async saveFile(_name: string, _type: string, _contents: Uint8Array) {}\n}\n\nlet platform: Platform = new StubPlatform();\n\n/**\n * Set the appropriate [[Platform]] implemenation for the current environment\n */\nexport function setPlatform(p: Platform) {\n    platform = p;\n}\n\n/**\n * Get the current [[Platform]] implemenation\n */\nexport function getPlatform() {\n    return platform;\n}\n\n/** Copies the given `text` to the system clipboard */\nexport function getClipboard() {\n    return platform.getClipboard();\n}\n\n/** Retrieves the current text from the system clipboard */\nexport function setClipboard(val: string) {\n    return platform.setClipboard(val);\n}\n\n/** Get information about the current device */\nexport function getDeviceInfo() {\n    return platform.getDeviceInfo();\n}\n\nexport function getCryptoProvider() {\n    return platform.crypto;\n}\n\nexport function getStorage() {\n    return platform.storage;\n}\n\nexport function scanQR() {\n    return platform.scanQR();\n}\n\nexport function stopScanQR() {\n    return platform.stopScanQR();\n}\n\nexport function isBiometricAuthAvailable() {\n    return platform.isBiometricAuthAvailable();\n}\n\nexport function biometricAuth(message?: string) {\n    return platform.biometricAuth(message);\n}\n\nexport function isKeyStoreAvailable() {\n    return platform.isKeyStoreAvailable();\n}\n\nexport function keyStoreSet(name: string, value: string) {\n    return platform.keyStoreSet(name, value);\n}\n\nexport function keyStoreGet(name: string) {\n    return platform.keyStoreGet(name);\n}\n\nexport function keyStoreDelete(name: string) {\n    return platform.keyStoreDelete(name);\n}\n\nexport function composeEmail(addr: string, subject: string, message: string) {\n    return platform.composeEmail(addr, subject, message);\n}\n\nexport function saveFile(name: string, type: string, contents: Uint8Array): Promise<void> {\n    return platform.saveFile(name, type, contents);\n}\n","import { PBKDF2Params, AESKey, AESEncryptionParams } from \"./crypto\";\nimport { Err, ErrorCode } from \"./error\";\nimport { sjcl } from \"../vendor/sjcl\";\n\n// Shorthands for codec functions\nconst bytesToBits = sjcl.codec.bytes.toBits;\nconst bitsToBytes = sjcl.codec.bytes.fromBits;\n\n/**\n * [[CrypoProvider]] implemenation using the [SJCL](https://github.com/bitwiseshiftleft/sjcl)\n * library. This is used to decrypt legacy (<3.x) Padlock containers that use AES in CCM mode\n * which is unfortunately not supported by the WebCrypto standard. Only\n * supports encryption/decryption using AES-CCM.\n */\nconst SJCLProvider = {\n    isAvailable() {\n        return true;\n    },\n\n    randomBytes(_bytes: number): Uint8Array {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    },\n\n    async deriveKey(_password: string, _params: PBKDF2Params): Promise<AESKey> {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    },\n\n    async randomKey(_n = 256) {\n        throw new Err(ErrorCode.NOT_SUPPORTED);\n    },\n\n    async decrypt(key: AESKey, ct: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array> {\n        if (params.algorithm !== \"AES-CCM\") {\n            throw new Err(ErrorCode.INVALID_ENCRYPTION_PARAMS);\n        }\n\n        // Only AES and CCM are supported\n        const algorithm = \"aes\";\n        const mode = \"ccm\";\n\n        try {\n            const cipher = new sjcl.cipher[algorithm](bytesToBits(key));\n            const pt = sjcl.mode[mode].decrypt(\n                cipher,\n                bytesToBits(ct),\n                bytesToBits(params.iv!),\n                bytesToBits(params.additionalData!),\n                params.tagSize\n            );\n            return new Uint8Array(bitsToBytes(pt));\n        } catch (e) {\n            throw new Err(ErrorCode.DECRYPTION_FAILED);\n        }\n    },\n\n    async encrypt(key: AESKey, pt: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array> {\n        if (params.algorithm !== \"AES-CCM\") {\n            throw new Err(ErrorCode.INVALID_ENCRYPTION_PARAMS);\n        }\n\n        // Only AES and CCM are supported\n        const algorithm = \"aes\";\n        const mode = \"ccm\";\n\n        try {\n            const cipher = new sjcl.cipher[algorithm](bytesToBits(key));\n            var ct = sjcl.mode[mode].encrypt(\n                cipher,\n                bytesToBits(pt),\n                bytesToBits(params.iv!),\n                bytesToBits(params.additionalData!),\n                params.tagSize\n            );\n            return new Uint8Array(bitsToBytes(ct));\n        } catch (e) {\n            throw new Err(ErrorCode.ENCRYPTION_FAILED);\n        }\n    }\n};\n\nexport default SJCLProvider;\n","import { Serializable } from \"./encoding\";\nimport { Err, ErrorCode } from \"./error\";\n\n/**\n * Base class for objects intended to be used in conjunction with an\n * implementation of the [[Storage]] interface.\n */\nexport abstract class Storable extends Serializable {\n    abstract id: string;\n}\n\n/**\n * Generic type representing the constructor of a class extending [[Storable]]\n */\nexport type StorableConstructor<T extends Storable> = new (...args: any[]) => T;\n\nexport interface StorageListOptions<T> {\n    offset?: number;\n    limit?: number;\n    filter?: (obj: T) => boolean;\n    lt?: string;\n    gt?: string;\n    reverse?: boolean;\n}\n\n/**\n * Generic interface for data storage\n */\nexport interface Storage {\n    /** Saves an object to the storage */\n    save<T extends Storable>(obj: T): Promise<void>;\n\n    /** Retrieves an object of type `T` based on its `id`*/\n    get<T extends Storable>(cls: StorableConstructor<T> | T, id: string): Promise<T>;\n\n    /** Deletes an object */\n    delete<T extends Storable>(obj: T): Promise<void>;\n\n    /** Deletes all data in this storage */\n    clear(): Promise<void>;\n\n    /** Retrieves an object of type `T` based on its `id`*/\n    list<T extends Storable>(cls: StorableConstructor<T>, opts?: StorageListOptions<T>): Promise<T[]>;\n}\n\nexport class VoidStorage implements Storage {\n    async save<T extends Storable>(_obj: T) {}\n    async get<T extends Storable>(_cls: StorableConstructor<T> | T, _id: string): Promise<T> {\n        throw new Err(ErrorCode.NOT_FOUND);\n    }\n    async delete<T extends Storable>(_obj: T) {}\n    async clear() {}\n    async list<T extends Storable>(_cls: StorableConstructor<T>, _opts?: StorageListOptions<T>) {\n        return [];\n    }\n}\n\n/**\n * Basic in-memory storage. Useful for testing purposes\n */\nexport class MemoryStorage implements Storage {\n    private _storage = new Map<string, object>();\n\n    async save<T extends Storable>(obj: T) {\n        this._storage.set(`${obj.kind}_${obj.id}`, obj.toRaw());\n    }\n\n    async get<T extends Storable>(cls: StorableConstructor<T> | T, id: string) {\n        const res = cls instanceof Storable ? cls : new cls();\n        const raw = this._storage.get(`${res.kind}_${id}`);\n        if (!raw) {\n            throw new Err(ErrorCode.NOT_FOUND);\n        }\n        return res.fromRaw(raw);\n    }\n\n    async delete<T extends Storable>(obj: T) {\n        this._storage.delete(`${obj.kind}_${obj.id}`);\n    }\n\n    async clear() {\n        this._storage.clear();\n    }\n\n    async list<T extends Storable>(\n        cls: StorableConstructor<T>,\n        { offset = 0, limit = Infinity, filter }: StorageListOptions<T> = {}\n    ): Promise<T[]> {\n        const results: T[] = [];\n\n        const iter = this._storage[Symbol.iterator]();\n\n        let value: object;\n        let done: boolean | undefined;\n\n        while (\n            (({\n                value: [, value],\n                done\n            } = iter.next()),\n            !done && results.length < limit)\n        ) {\n            const item = new cls().fromRaw(value);\n            if (!filter || filter(item)) {\n                if (!filter || filter(item)) {\n                    if (offset) {\n                        offset--;\n                    } else {\n                        results.push(item);\n                    }\n                }\n            }\n        }\n\n        return results;\n    }\n}\n","import {\n    CryptoProvider,\n    PBKDF2Params,\n    AESKey,\n    RSAPublicKey,\n    RSAPrivateKey,\n    HMACKey,\n    SymmetricKey,\n    AESKeyParams,\n    RSAKeyParams,\n    HMACParams,\n    HMACKeyParams,\n    AESEncryptionParams,\n    RSAEncryptionParams,\n    HashParams,\n    RSASigningParams\n} from \"./crypto\";\nimport { concatBytes as concat, equalBytes as equal } from \"./encoding\";\nimport { Err, ErrorCode } from \"./error\";\n\n/**\n * StubCryptoProvider is a stub implementation of the [[CryptoProvider]]\n * interface mainly used for testing. All methods merely emulate the behavior\n * of an actual implementation in a way that makes it compatible for use\n * with the rest of the **@padloc/core** package. Needless to say, this\n * class is **NOT SECURE AND SHOULD NEVER BE USED IN A PRODUCTION ENVIRONMENT**.\n */\nexport class StubCryptoProvider implements CryptoProvider {\n    async randomBytes(n: number): Promise<Uint8Array> {\n        const bytes = new Uint8Array(n);\n        for (let i = 0; i < n; i++) {\n            bytes[i] = Math.random() * 255;\n        }\n        return bytes;\n    }\n\n    async hash(input: Uint8Array, _params: HashParams): Promise<Uint8Array> {\n        return input.slice(0, 32);\n    }\n\n    generateKey(params: AESKeyParams): Promise<AESKey>;\n    generateKey(params: RSAKeyParams): Promise<{ privateKey: RSAPrivateKey; publicKey: RSAPublicKey }>;\n    generateKey(params: HMACKeyParams): Promise<HMACKey>;\n    async generateKey(params: AESKeyParams | RSAKeyParams | HMACKeyParams) {\n        switch (params.algorithm) {\n            case \"AES\":\n            case \"HMAC\":\n                return this.randomBytes(params.keySize / 8);\n            case \"RSA\":\n                const key = await this.randomBytes(32);\n                return {\n                    publicKey: key,\n                    privateKey: key\n                };\n        }\n    }\n\n    async deriveKey(password: Uint8Array, params: PBKDF2Params): Promise<SymmetricKey> {\n        const bytes = new Uint8Array(params.keySize);\n        bytes.set(concat([password, params.salt]));\n        return bytes.slice(0, 32);\n    }\n\n    encrypt(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array>;\n    encrypt(publicKey: RSAPublicKey, data: Uint8Array, params: RSAEncryptionParams): Promise<Uint8Array>;\n    async encrypt(\n        key: AESKey | RSAPublicKey,\n        data: Uint8Array,\n        params: AESEncryptionParams | RSAEncryptionParams\n    ): Promise<Uint8Array> {\n        switch (params.algorithm) {\n            case \"AES-GCM\":\n                return concat([key, params.iv, params.additionalData, data]);\n\n            case \"RSA-OAEP\":\n                return concat([key, data]);\n            default:\n                throw new Err(ErrorCode.NOT_SUPPORTED);\n        }\n    }\n\n    decrypt(key: AESKey, data: Uint8Array, params: AESEncryptionParams): Promise<Uint8Array>;\n    decrypt(publicKey: RSAPublicKey, data: Uint8Array, params: RSAEncryptionParams): Promise<Uint8Array>;\n    async decrypt(\n        key: AESKey | RSAPublicKey,\n        data: Uint8Array,\n        params: AESEncryptionParams | RSAEncryptionParams\n    ): Promise<Uint8Array> {\n        if (params.algorithm.startsWith(\"AES\")) {\n            params = params as AESEncryptionParams;\n            const keyLength = key.length;\n            const ivLength = params.iv.length;\n            const adataLength = params.additionalData.length;\n            const extractedKey = data.slice(0, keyLength);\n            const iv = data.slice(keyLength, keyLength + ivLength);\n            const adata = data.slice(keyLength + ivLength, keyLength + ivLength + adataLength);\n\n            if (!equal(key, extractedKey) || !equal(iv, params.iv) || !equal(adata, params.additionalData)) {\n                throw new Err(ErrorCode.DECRYPTION_FAILED);\n            }\n            return data.slice(keyLength + adataLength + ivLength);\n        } else {\n            const keyLength = key.length;\n            const extractedKey = data.slice(0, keyLength);\n\n            if (!equal(key, extractedKey)) {\n                throw new Err(ErrorCode.DECRYPTION_FAILED);\n            }\n            return data.slice(keyLength);\n        }\n    }\n\n    async fingerprint(key: RSAPublicKey): Promise<Uint8Array> {\n        return key;\n    }\n\n    async sign(key: HMACKey, data: Uint8Array, params: HMACParams): Promise<Uint8Array>;\n    async sign(key: RSAPrivateKey, data: Uint8Array, params: RSASigningParams): Promise<Uint8Array>;\n    async sign(\n        key: HMACKey | RSAPrivateKey,\n        data: Uint8Array,\n        _params: HMACParams | RSASigningParams\n    ): Promise<Uint8Array> {\n        return concat([key, data]);\n    }\n\n    async verify(key: HMACKey, signature: Uint8Array, data: Uint8Array, params: HMACParams): Promise<boolean>;\n    async verify(\n        key: RSAPrivateKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        params: RSASigningParams\n    ): Promise<boolean>;\n    async verify(\n        key: HMACKey | RSAPrivateKey,\n        signature: Uint8Array,\n        data: Uint8Array,\n        _params: HMACParams | RSASigningParams\n    ): Promise<boolean> {\n        const keyLength = key.length;\n        const extractedKey = signature.slice(0, keyLength);\n        const extractedData = signature.slice(keyLength);\n        return equal(key, extractedKey) && equal(data, extractedData);\n    }\n}\n","const loadLanguagePromises = new Map<string, Promise<void>>();\nconst languages = new Map<string, Map<string, string>>();\nlet defaultLanguage = \"en\";\n\nexport function setDefaultLanguage(lang: string) {\n    defaultLanguage = lang;\n}\n\nexport function getDefaultLanguage() {\n    return defaultLanguage;\n}\n\nexport async function loadLanguage(lang: string, setDefault = true): Promise<void> {\n    lang = lang.toLowerCase();\n\n    if (loadLanguagePromises.has(lang)) {\n        return loadLanguagePromises.get(lang);\n    }\n\n    const promise = (async () => {\n        try {\n            const { default: items } = await import(`../res/translations/${lang}.json`);\n\n            languages.set(lang, new Map<string, string>(items));\n\n            if (setDefault) {\n                defaultLanguage = lang;\n            }\n        } catch (e) {\n            const dashIndex = lang.lastIndexOf(\"-\");\n            if (dashIndex !== -1) {\n                return loadLanguage(lang.substring(0, dashIndex));\n            } else {\n                throw e;\n            }\n        }\n    })();\n\n    loadLanguagePromises.set(lang, promise);\n\n    return promise;\n}\n\n/**\n * Resolves a given locale string to the approprivate available language\n */\nexport function resolveLanguage(locale: string, supportedLanguages: { [lang: string]: any }): string {\n    const localeParts = locale.toLowerCase().split(\"-\");\n\n    while (localeParts.length) {\n        const l = localeParts.join(\"-\");\n        if (supportedLanguages[l]) {\n            return l;\n        }\n\n        localeParts.pop();\n    }\n\n    return Object.keys(supportedLanguages)[0];\n}\n\n/**\n * Translate `msg` into the current language. The message can contain simple numbered\n * placeholders that are substituted after translation with the corresponding arguments\n * passed after `msg`. E.g:\n *\n * ```ts\n * translate(\"Hello! My name is {0}. I am from {1}. How are you?\", name, country);\n * ```\n */\nexport function translate(msg: string, ...fmtArgs: string[]) {\n    // Choose translations for current language\n    const lang = languages.get(defaultLanguage);\n\n    // Look up translation. If no translation is found, use the original message.\n    let res = (lang && lang.get(msg)) || msg;\n\n    // Replace placeholders with function arguments\n    for (let i = 0; i < fmtArgs.length; i++) {\n        res = res.replace(new RegExp(`\\\\{${i}\\\\}`, \"g\"), fmtArgs[i]);\n    }\n\n    return res;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".chunk.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"@padloc/pwa:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_padloc_pwa\"] = self[\"webpackChunk_padloc_pwa\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import { setPlatform } from \"@padloc/core/src/platform\";\nimport { WebPlatform } from \"@padloc/app/src/lib/platform\";\n\n(async () => {\n    setPlatform(new WebPlatform());\n\n    await import(\"@padloc/app/src/elements/app\");\n\n    window.onload = () => {\n        const app = document.createElement(\"pl-app\");\n        document.body.appendChild(app);\n    };\n})();\n"],"names":[],"sourceRoot":""}